System.register("chunks:///_virtual/Validations.ts",["cc","./strings.ts"],(function(a){"use strict";var e,i;return{setters:[function(a){e=a.cclegacy},function(a){i=a.ERROR_MSG}],execute:function(){var t;a("Validator",void 0),e._RF.push({},"00ff4xBKnJMKZc5+6q7bdGE","Validations",void 0),function(a){function e(a,e,i){if(null==a||0==a.toString().length)return!1;var t=a.length;return!(t<e||t>i)}function t(a,e,t){var n=i.INVALID_LENGTH;return n=(n=(n=n.replace("&name",a)).replace("&min",e.toString())).replace("&max",t.toString())}a.emailValidation=function(a){var e=!0;return(null==a||0==a.length||a.length>256||!/^[a-z0-9][a-z0-9._%+-]{1,64}@([a-z0-9]+(-[a-z0-9]+)*\.){1,8}[a-z]{2,63}$/i.test(a))&&(e=!1),{isValid:e,message:e?"":i.INVALID_EMAIL}},a.nameValidation=function(a){var n=e(a,3,32);if(!n){var r=t("Name",3,32);return{isValid:n,message:n?"":r}}return/^[a-z]*$/i.test(a)||(n=!1),{isValid:n,message:n?"":i.INVALID_NAME}},a.passwordValidation=function(a){var n=e(a,8,32);if(!n){t("Password",8,32);return{isValid:n,message:n?"":i.INVALID_PWD}}return/^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[\~\`\!\@\#\$\%\^\&\*\(\)\_\+\-\=\{\}\[\]\:\;\"\'\|\\\<\,\>\.\?\/]).*$/.test(a)||(n=!1),{isValid:n,message:n?"":i.INVALID_PWD}},a.usernameValidation=function(a){var n=e(a,3,32);if(!n){var r=t("Username",3,32);return{isValid:n,message:n?"":r}}return/^[a-z]+[a-z0-9]*$/i.test(a)||(n=!1),{isValid:n,message:n?"":i.INVALID_USERNAME}},a.uNameEmailValidation=function(a){var n=e(a,3,255);if(!n){var r=t("Username/Email",3,255);return{isValid:n,message:n?"":r}}var s=!0;/^[a-z]+[a-z0-9]*$/i.test(a)||(s=!1);var l=!0;return(null==a||0==a.length||a.length>256||!/^[a-z0-9][a-z0-9._%+-]{1,64}@([a-z0-9]+(-[a-z0-9]+)*\.){1,8}[a-z]{2,63}$/i.test(a))&&(l=!1),{isValid:n=l||s,message:n?"":i.INVALID_UNAME_EMAIL}}}(t||(t=a("Validator",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/popup.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,n,r,o,i,u,a,c,l,s;return{setters:[function(e){t=e.cclegacy,n=e._decorator,r=e.Node,o=e.director,i=e.Component},function(e){u=e.applyDecoratedDescriptor,a=e.inheritsLoose,c=e.defineProperty,l=e.assertThisInitialized,s=e.initializerDefineProperty}],execute:function(){var p,f,d,h,g,m,y;t._RF.push({},"191e95uWU9K3bRVIon52NeA","popup",void 0);var v=n.ccclass,_=n.property;e("Popup",(p=v("Popup"),f=_(r),d=_(r),p((m=u((g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,c(l(t),"_delegate",null),s(l(t),"reset",m,l(t)),s(l(t),"resume",y,l(t)),t}a(t,e);var n=t.prototype;return n.start=function(){},n.init=function(e){this._delegate=e},n.changeButtonState=function(e){this.resume.active=e,this.reset.active=!e},n.onResume=function(){this._delegate.onResume()},n.onReload=function(){this._delegate.onReload()},n.home=function(){o.loadScene("home")},t}(i)).prototype,"reset",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=u(g.prototype,"resume",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=g))||h));t._RF.pop()}}}));

System.register("chunks:///_virtual/strings.ts",["cc","./gameManager.ts"],(function(e){"use strict";var t,o;return{setters:[function(e){t=e.cclegacy},function(e){o=e.GAME_TYPE}],execute:function(){e({getAccomplishments:function(e){var t,a,i;switch(e){case o.EDUCATION:t=["Some Education sector programs include building schools, providing scholarships, training teachers, and helping children and youth access education.","It is reported that over 15 million primary and secondary school-aged children are out of school in the MENA region. ","Nearly 6 in 10 children in the MENA region are not able to read and understand a simple age-appropriate text at age 10."],a=["TBHF has provided educational support for more than 30 projects around the world.","TBHF has helped in the rehabilitation and construction of other 9 schools in countries such as; Pakistan, Malaysia, Syria, Egypt, India and Iraq.","In partnership with Welfare Association, TBHF has built a school for the deaf in Palestine"],i=["General facts about educational sector","TBHF achievement in educational sector"];break;case o.LIVLIHOOD:t=["The Livelihood sector focuses on supporting sustainable access to basic necessities through multiple elements such as vocational training and job creation.","It is reported that over 25 million Arab youth are not in education, employment or training.","The livelihood sector aims to help alleviate poverty in vulnerable communities by providing sustainable income."],a=["TBHF has constructed a holistic village in Niger that includes 20 houses, 1 mosque, healthcare clinic, primary school, water tank, bakery, farming for agriculture purpose, goat owning and solar power system.","TBHF has helped increase the economic self-reliance of more than 300 women and youth in Kenya through provision of training and building up a new workshop. ","TBHF has provided meals for more than 200 underprivileged boarding school students in India."],i=["General facts about livelihood sector","TBHF achievement in livelihood sector"];break;case o.RELIEF:t=["Emergency relief is multisectoral; aid may come in various means such as protection, healthcare and/or food assistance.","Recent emergencies in the region include the Beirut Port explosion, floods in Sudan, and the global COVID-19 pandemic.","It is estimated that 64 million people lack enough food to be healthy within the Arab World."],a=["TBHF has immediately responded to the rehabilitation of houses distributed by the Beirut blasted by partnering with Basmeh and Zaitoneeh and UNHCR.","Mosul Emergency in Iraq to support shelter needs as part of the global shelter campaign for the year 2017 with over 1,899 beneficiaries.","TBHF supported more than 2,400 low income families and low-wage laborers in the UAE who have been affected by COVID-19 outbreak through food assistance and basic necessities.","TBHF in 2015 Supported the Urgent Humanitarian Needs to Gaza Strip by providing urgently needed support to more than 3,000 families contributing to their basic needs of food, clothing and school supplies in order to enhance living conditions and to enable people to live in dignity."],i=["General facts about Emergency Relief sector","TBHF achievement in Emergency Relief sector"];break;case o.HEALTHCARE:t=["Programs under the healthcare sector generally focus on building and rehabilitating hospitals and healthcare centers, training of doctors and nurses, provision of medicine, and other health basic needs.","Two-thirds of the world’s unimmunized children are living in countries affected by conflict.","Children living in conflict zones are 3 times more likely to not survive from indirect impacts of war."],a=["TBHF has developed a pediatric and neonatal Intensive care unit at Muhimbili National Hospital, Tanzania which benefits around 1,300 patients a year.","TBHF has established a clinic in a refugee camp (Jordan) that serves around 24,000 patients.","TBHF has renovated the post-partum, post-surgery, and medicine hospital at the child and mother welfare society in Lebanon that serves around 1,100 patients."],i=["General facts about healthcare sector","TBHF achievement in healthcare sector"];break;default:t=[],a=[]}return{generalFacts:t,achievements:a,headings:i}},getQuestionier:function(e){var t;switch(e){case o.EDUCATION:t=[{question:"So do you like bread?",options:["Yemen","Paris","No where"],answer:1},{question:"Where is courage the cowerdly dog",options:["Yemen","Paris","No where"],answer:1},{question:"What is  true",options:["!false","!0","!null"],answer:1}];break;case o.LIVLIHOOD:t=[{question:"So do you like bread?",option1:"Yemen",option2:"Paris",option3:"No where",answer:1},{question:"Where is courage the cowerdly dog",option1:"Yemen",option2:"Paris",option3:"No where",answer:1},{question:"What is  true",option1:"!false",option2:"!0",option3:"!null",answer:1}];break;case o.RELIEF:t=[{question:"So do you like bread?",options:["Yemen","Paris","No where"],answer:1},{question:"Where is courage the cowerdly dog",options:["Yemen","Paris","No where"],answer:1},{question:"What is  true",options:["Yemen","Paris","No where"],answer:1}];break;case o.HEALTHCARE:default:t=[{question:"So do you like bread?",option1:"Yemen",option2:"Paris",option3:"No where",answer:1},{question:"Where is courage the cowerdly dog",option1:"Yemen",option2:"Paris",option3:"No where",answer:1},{question:"What is  true",option1:"!false",option2:"!0",option3:"!null",answer:1}]}return{facts:t}},getVoiceOvers:function(e){var t,a,i;switch(e){case o.EDUCATION:t="You selected education sector. Let’s choose how you want to support this sector with the Hearts you’ve raised",a="Pay attention of the needs of every country and help them. Drag and drop what they need. Hurry up! We need to act fast! try not to focus in only one.",i="Your xxx amount has contributed in the advancement of education in these countries of yyy. Well Done. Let’s raise more Hearts to support other sectors";break;case o.LIVLIHOOD:t="You selected Livelihood sector. Let’s help provide basic needs for vulnerable communities",a="Drag and drop the products in the right truck, hurry up you only have 1 minute  to load 2 bags per truck using the Hearts you’ve raised",i="Your xxx amount has contributed in improving the lives of others. Well Done. Let’s raise more Hearts to support other sectors";break;case o.RELIEF:t="Welcome to the emergency relief sector, now it’s time to provide humanitarian relief for vulnerable communities, your mission is to balance 5 sacks of emergency relief in order to ship them into the cargo plane",a="",i="Your xxx amount has contributed in providing humanitarian relief to vulnerable communities. Well Done. Let’s raise more Hearts to support other sectors";break;case o.HEALTHCARE:t="",a="Now it’s time to use your collected Hearts to support the healthcare sector, Select the equipment on the right and place it in the hospital. Try to place as much equipment as possible following the doctor instructions. Use the Hearts you have raised to do it",i="Your xxx amount has contributed in providing healthcare services in vulnerable communities. Well Done. Let’s raise more Hearts to support other sectors";break;default:t="",a="",i=""}return{introduction:t,tutorial:a,end:i}}}),t._RF.push({},"1bbeaWVKEZMAL8EEoB6LdgY","strings",void 0);e("ERROR_MSG",{INVALID_EMAIL:"Please enter a valid email address",INVALID_NAME:"Please enter an appropriate name",INVALID_PWD:"Password should be of at least 8 characters including one uppercase, one lowercase, a number and a special character.",INVALID_USERNAME:"Username should start with letters and must contain only letters and numbers",INVALID_LENGTH:"&name should have length between &min and &max",INVALID_UNAME_EMAIL:"Please enter a valid Username/Email",INAVLIDE_CREDENTIALS:"Invalid credentials"});t._RF.pop()}}}));

System.register("chunks:///_virtual/GeneralFacts.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts","./strings.ts"],(function(t){"use strict";var e,n,o,s,i,a,r,u,c,l,g,h,p,f,d,m;return{setters:[function(t){e=t.cclegacy,n=t._decorator,o=t.Prefab,s=t.instantiate,i=t.Label,a=t.EventHandler,r=t.Button,u=t.Component},function(t){c=t.applyDecoratedDescriptor,l=t.inheritsLoose,g=t.defineProperty,h=t.assertThisInitialized,p=t.initializerDefineProperty,f=t.createForOfIteratorHelperLoose},function(t){d=t.gameManager},function(t){m=t.getQuestionier}],execute:function(){var y,P,v,q,F;e._RF.push({},"23066rgJkNHPoRB6rKKdctj","GeneralFacts",void 0);var B=n.ccclass,C=n.property;t("GeneralFacts",(y=B("GeneralFacts"),P=C(o),y((F=c((q=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,g(h(e),"questions",{}),g(h(e),"currentPage",0),g(h(e),"_delegate",null),g(h(e),"questionPages",[]),p(h(e),"questionPopUp",F,h(e)),e}l(e,t);var n=e.prototype;return n.start=function(){},n.setDelegate=function(t){this._delegate=t},n.setUpQuestioniers=function(){this.questions=m(d.getInstance().getGameType());for(var t,e=0,n=f(this.questions.facts);!(t=n()).done;){var o=t.value,a=s(this.questionPopUp);a.getChildByName("Layout").getChildByName("question").getComponent(i).string=o.question,this.setButtons(a,o),a.setSiblingIndex(5),a.position.y=e,e+=20,this.questionPages.push(a)}for(var r=this.questionPages.length-1;r>=0;r--)this.node.addChild(this.questionPages[r])},n.setButtons=function(t,e){console.log("item.options",e,e.options,this.questions);for(var n=0;n<e.options.length;n++){var o=t.getChildByName("buttonLayout").getChildByName("Button"+(n+1)),s=new a;s.target=this.node,s.component="GeneralFacts",s.handler="onButtonCall",s.customEventData=""+(n+1),o.getComponent(r).clickEvents.push(s),o.getComponentInChildren(i).string=e.options[n]}},n.onButtonCall=function(t,e){this.questions.facts[this.currentPage].answer==e&&this.playMoveOutAnimation()},n.playMoveOutAnimation=function(){this.questionPages[this.currentPage].removeFromParent(),this.currentPage++,console.log("currebt opage",this.currentPage),this.currentPage==this.questions.facts.length&&this.onFactsFinished()},n.onFactsFinished=function(){this._delegate.onFactEnd()},e}(u)).prototype,"questionPopUp",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=q))||v));e._RF.pop()}}}));

System.register("chunks:///_virtual/pauseMenu.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,n,u,r;return{setters:[function(e){t=e.cclegacy,n=e._decorator,u=e.Component},function(e){r=e.inheritsLoose}],execute:function(){var s;t._RF.push({},"316a3nNR7FDFK7JO3PKJwBP","pauseMenu",void 0);var o=n.ccclass;n.property,e("PauseMenu",o("PauseMenu")(s=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.start=function(){},t}(u))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/relief.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts","./strings.ts","./ResourceUtils.ts","./SoundManager.ts"],(function(e){"use strict";var t,o,n,i,a,r,s,l,c,u,p,d,h,f,v,m,g,y,x,C,P,b,B,T,U,w,D,O,S,I,H,L,R,E,G,F,M;return{setters:[function(e){t=e.cclegacy,o=e._decorator,n=e.Node,i=e.Sprite,a=e.Prefab,r=e.SpriteFrame,s=e.NodePool,l=e.AudioSource,c=e.PhysicsSystem2D,u=e.EPhysics2DDrawFlags,p=e.Vec2,d=e.PHYSICS_2D_PTM_RATIO,h=e.instantiate,f=e.tween,v=e.Collider2D,m=e.Contact2DType,g=e.Vec3,y=e.RigidBody2D,x=e.Intersection2D,C=e.UITransform,P=e.v2,b=e.v3,B=e.Animation,T=e.director,U=e.Component},function(e){w=e.applyDecoratedDescriptor,D=e.inheritsLoose,O=e.defineProperty,S=e.assertThisInitialized,I=e.initializerDefineProperty},function(e){H=e.gameManager,L=e.SCENE_TYPE,R=e.GAME_TYPE,E=e.IN_GAME_CURR_OP},function(e){G=e.getVoiceOvers},function(e){F=e.ResourceUtils},function(e){M=e.SoundManager}],execute:function(){var A,k,V,_,N,z,W,Y,X,j,q,Q,J,K,Z,$,ee,te,oe,ne,ie,ae,re,se,le,ce,ue;t._RF.push({},"360b0h6y9RLGYU4koDVkHQm","relief",void 0);var pe=1,de=2,he=3,fe=o.ccclass,ve=o.property;e("Relief",(A=fe("Relief"),k=ve(n),V=ve(n),_=ve(n),N=ve(n),z=ve(n),W=ve(i),Y=ve(a),X=ve(a),j=ve(a),q=ve(a),Q=ve(a),J=ve([r]),A(($=w((Z=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,O(S(t),"voiceOverData",void 0),O(S(t),"tutorial",!0),O(S(t),"firstLanding",!0),O(S(t),"isDragging",!1),O(S(t),"gamePaused",!0),O(S(t),"isGameOver",!1),O(S(t),"isMovingBoxes",!1),O(S(t),"touchRestriction",null),O(S(t),"voiceOver",null),O(S(t),"factsPopUp",null),O(S(t),"HUDLayer",null),O(S(t),"boxPositionXForTutorial",0),O(S(t),"tutorialCount",0),O(S(t),"boxesDonateCount",0),O(S(t),"reliefBoxs",new s),O(S(t),"deportedBoxes",[]),O(S(t),"groundBoxes",[]),O(S(t),"groundBox",[]),I(S(t),"sack",$,S(t)),I(S(t),"platform",ee,S(t)),I(S(t),"spriteBG",te,S(t)),I(S(t),"dummyBox",oe,S(t)),I(S(t),"boundary",ne,S(t)),I(S(t),"plane",ie,S(t)),I(S(t),"hudPrefab",ae,S(t)),I(S(t),"boxPrefab",re,S(t)),I(S(t),"touchRestrictionPrefab",se,S(t)),I(S(t),"voiceOverPrefab",le,S(t)),I(S(t),"factsPopUpPrefab",ce,S(t)),I(S(t),"boxSpriteFrams",ue,S(t)),t}D(t,e);var o=t.prototype;return o.onLoad=function(){},o.start=function(){M.getInstance().init(this.node.getComponent(l)),H.getInstance().setSceneType(L.GAME),H.getInstance().setGameType(R.RELIEF),H.getInstance().incrementUserHearts(H.getInstance().getGameTimeHeart(H.getInstance().getGameType()).hearts),this.sack.setSiblingIndex(10),c.instance.enable=!0,c.instance.debugDrawFlags=u.All,c.instance.gravity=new p(0,-25*d);var e=c.instance;e.fixedTimeStep=.05,e.velocityIterations=5,e.positionIterations=5,this.platform.attr({type:pe}),this.boundary.attr({type:he}),this.setPhysicsSystem(),this.setUpHUDLayer(),this.touchEvents(),this.createReflifPackages(),this.createVoiceOver(),this.enterPlane(),this.addTouchRestriction(),this.setUpFactsPopUp(),this.pauseGame()},o.setUpFactsPopUp=function(){this.factsPopUp=h(this.factsPopUpPrefab),this.node.addChild(this.factsPopUp);var e=this.factsPopUp.getComponent("FactsPopUp");e.loadAccomplishments(),e.setDelegate(this),this.factsPopUp.active=!1},o.showFactsPopUp=function(){this.pauseTimer(),this.factsPopUp.getComponent("FactsPopUp").showFact()},o.updateFallBoxFromTheSack=function(){this.fallBoxFromTheSack()},o.fallBoxFromTheSack=function(){var e=this;f(this.node).call((function(){return e.repositionSack()})).delay(1).call((function(){return e.fallBox()})).start()},o.createReflifPackages=function(){for(var e=0;e<10;e++){var t,o=h(this.boxPrefab),n=Math.floor(3*Math.random())-0;o.getComponent(i).spriteFrame=this.boxSpriteFrams[n],null===(t=o.getComponent(v))||void 0===t||t.on(m.BEGIN_CONTACT,this.onCollisionBegin,this),o.attr({isonPlatform:!1,type:de,id:e}),o.getChildByName("hand").active=!1,this.reliefBoxs.put(o)}},o.setPhysicsSystem=function(){var e=c.instance;e.fixedTimeStep=1/60,e.velocityIterations=8,e.positionIterations=8},o.setUpHUDLayer=function(){this.HUDLayer=h(this.hudPrefab),this.node.addChild(this.HUDLayer),this.HUDLayer.getComponent("HUDLayer").setDelegate(this)},o.startTimer=function(){this.HUDLayer.getComponent("HUDLayer").startTimer(),this.resumeGame()},o.pauseTimer=function(){this.HUDLayer.getComponent("HUDLayer").pauseTimer()},o.resumeTimer=function(){this.HUDLayer.getComponent("HUDLayer").resumeTimer()},o.timePaused=function(){this.pauseGame()},o.timeRunning=function(){},o.timeOver=function(){this.pauseGame(),this.createSummary(),this.gameOver()},o.touchEvents=function(){this.node.on(n.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(n.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(n.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(n.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},o.fallBox=function(){var e=this.reliefBoxs.get();e.active=!0,this.spriteBG.addChild(e),e.setPosition(this.sack.getPosition()),e.setScale(new g(.5,.5,.5));var t=null==e?void 0:e.getComponent(y);null==t||t.sleep(),e.angle=0,null==t||t.wakeUp()},o.checkBoxIntersectWithPlatform=function(e){var t,o;return x.rectRect(null===(t=e.getComponent(C))||void 0===t?void 0:t.getBoundingBoxToWorld(),null===(o=this.platform.getComponent(C))||void 0===o?void 0:o.getBoundingBoxToWorld())},o.onTouchStart=function(){this.isDragging=!0},o.onTouchMove=function(e){var t,o=e.getUILocation();if(!(e.getUILocation().x<.5*this.platform.getComponent(C).width||e.getUILocation().x>this.node.getComponent(C).width-.5*this.platform.getComponent(C).width)&&!this.gamePaused&&this.isDragging&&(null===(t=this.platform.getComponent(C))||void 0===t?void 0:t.getBoundingBoxToWorld().contains(P(o.x,o.y)))){var n,i=null===(n=this.platform.parent.getComponent(C))||void 0===n?void 0:n.convertToNodeSpaceAR(b(o.x,o.y,0)),a=i.x-this.platform.position.x;this.platform.setPosition(new g(i.x,this.platform.position.y,0)),this.deportedBoxes.forEach((function(e){e.setPosition(new g(e.position.x+a,e.position.y,0))}))}},o.onTouchEnd=function(){this.isDragging=!1},o.repositionSack=function(){var e=Math.ceil(800*Math.random())*(Math.round(Math.random())?1:-1);this.boxPositionXForTutorial=e,f(this.sack).to(.5,{position:new g(e,this.sack.position.y,0)}).start()},o.onCollisionBegin=function(e,t,o){var n=this;if(!this.isMovingBoxes)if(e.node.type==de&&t.node.type==pe||e.node.type==pe&&t.node.type==de||e.node.type==de&&t.node.type==de){var i,a=e.node.type==pe?t:e;if(a.node.isonPlatform)return;a.node.isonPlatform=!0;var r=null===(i=a.node)||void 0===i?void 0:i.getComponent(y);(null==r?void 0:r.isAwake())&&(null==r||r.sleep()),this.deportedBoxes.push(a.node),5==this.deportedBoxes.length&&(this.pauseGame(),this.pauseTimer(),f(this.spriteBG).call((function(){n.voiceOver.active=!0,n.updateVoiceOverMessage("Wait until we load all the boxes to the cargo plane.")})).delay(2).call((function(){n.voiceOver.active=!1,n.isMovingBoxes=!0,n.allBoxesCollected()})).start())}else if(e.node.type==de&&t.node.type==he||e.node.type==he&&t.node.type==de){var s,l,c=e.node.type==he?t:e,u=new p(0,0);if(null===(s=c.body)||void 0===s||s.getWorldCenter(u),null===(l=c.body)||void 0===l||l.applyTorque(0,!0),c.node.isonPlatform){c.node.isonPlatform=!1;var d=this.deportedBoxes.findIndex((function(e){return e.id==c.node.id}));-1!=d&&this.deportedBoxes.splice(d,1)}this.groundBoxes.push(c.node)}},o.runTutorial=function(){var e=this;f(this.spriteBG).call((function(){e.updateVoiceOverMessage(e.voiceOverData.introduction),e.voiceOver.active=!0;var t=F.getInstance().getGameResources("Relief","Vo1");console.log("Relief Introduction"+t),t&&M.getInstance().playSoundEffect(t)})).delay(13).call((function(){var t=F.getInstance().getGameResources("Relief","music");t&&(e.node.getComponent(l).clip=t,M.getInstance().playMusic(!0)),e.voiceOver.active=!1,e.collectBoxTutorial(),e.schedule(e.collectBoxTutorial,4)})).start()},o.collectBoxTutorial=function(){var e=this;5===this.tutorialCount?(this.unschedule(this.collectBoxTutorial),this.platform.getChildByName("hand").active=!1):(this.tutorialCount++,this.fallBoxFromTheSack(),f(this.spriteBG).delay(1).call((function(){e.deportedBoxes.forEach((function(t){f(t).to(.5,{position:new g(e.boxPositionXForTutorial,t.position.y,0)}).start()})),f(e.platform).to(.5,{position:new g(e.boxPositionXForTutorial,e.platform.position.y,0)}).call((function(){})).start()})).start())},o.movePlatformToCenter=function(){var e=this;this.platform.getChildByName("hand").active=!0;var t=this.platform.position.x+500;f(this.spriteBG).call((function(){e.deportedBoxes.forEach((function(e){f(e).to(.5,{position:new g(e.position.x-t,e.position.y,0)}).start()})),f(e.platform).to(.5,{position:new g(-500,e.platform.position.y,0)}).call((function(){e.platform.getChildByName("hand").active=!1,e.moveBoxesToPlane()})).start()})).start()},o.moveBoxesToPlane=function(){var e=this,t=this.deportedBoxes.pop(),o=t.getChildByName("hand");o.active=!0,t.isonPlatform=!1;var n=null==t?void 0:t.getComponent(y);c.instance.gravity=new p,f(t).call((function(){(null==n?void 0:n.isAwake())&&(null==n||n.sleep())})).to(.25,{position:new g(null==t?void 0:t.position.x,(null==t?void 0:t.position.y)+300,0)}).to(.5,{position:new g(498,-400,0),scale:new g(.4,.4,.4)}).to(0,{angle:10}).to(.25,{position:new g(680,-400,0),scale:new g(.2,.2,.2)}).to(0,{angle:30}).to(.25,{position:new g(900,-320,0),scale:new g(0,0,0)}).to(0,{angle:0}).call((function(){if(!e.tutorial){var n=e.HUDLayer.getComponent("HUDLayer");e.boxesDonateCount++,n.updateHearts(E.DECREASE,50).gameover&&(e.isGameOver=!0,e.noMoreHeartsLeft())}o.active=!1,e.reliefBoxs.put(t),0==e.deportedBoxes.length&&(e.isMovingBoxes=!1,e.unschedule(e.moveBoxesToPlane),e.exitPlane(),e.tutorial=!1)})).start()},o.update=function(){for(;this.groundBoxes.length>0;)this.reliefBoxs.put(this.groundBoxes.pop())},o.allBoxesCollected=function(){this.movePlatformToCenter(),this.schedule(this.moveBoxesToPlane,1.5)},o.enterPlane=function(){var e=this;f(this.plane).call((function(){var t;null===(t=e.plane.getComponent(B))||void 0===t||t.play("enterPlane")})).delay(3).call((function(){var t,o;null===(t=e.plane.node.getChildByName("door"))||void 0===t||null===(o=t.getComponent(B))||void 0===o||o.play("doorOpen")})).delay(1).call((function(){e.tutorial?e.runTutorial():e.isGameOver?e.noMoreHeartsLeft():(c.instance.gravity=new p(0,-30*d),e.firstLanding?(e.firstLanding=!1,f(e.spriteBG).call((function(){var e=F.getInstance().getAudioClip("countdown");e&&M.getInstance().playSoundEffect(e)})).delay(1.5).call((function(){e.InactiveActivePopUp(!1),e.voiceOver.active=!0,e.updateVoiceOverCountDown("3")})).delay(.8).call((function(){e.updateVoiceOverCountDown("2")})).delay(.8).call((function(){e.updateVoiceOverCountDown("1")})).delay(.8).call((function(){e.updateVoiceOverCountDown("GO!")})).delay(1).call((function(){e.InactiveActivePopUp(!0),e.voiceOver.active=!1,e.showFactsPopUp()})).start()):f(e.spriteBG).call((function(){e.updateVoiceOverMessage("You can start collecting now. Hurry up!"),e.voiceOver.active=!0})).delay(2).call((function(){e.voiceOver.active=!1,e.touchRestriction.active=!1,e.resumeTimer(),e.resumeGame()})).start())})).start()},o.exitPlane=function(){var e=this;f(this.plane).call((function(){var t,o;null===(t=e.plane.node.getChildByName("door"))||void 0===t||null===(o=t.getComponent(B))||void 0===o||o.play("doorClose")})).delay(1).call((function(){var t;null===(t=e.plane.getComponent(B))||void 0===t||t.play("exitPlane")})).delay(2).call((function(){e.enterPlane()})).start()},o.addTouchRestriction=function(){this.touchRestriction=h(this.touchRestrictionPrefab),this.node.addChild(this.touchRestriction),this.touchRestriction.active=!1},o.createVoiceOver=function(){this.voiceOver=h(this.voiceOverPrefab),this.node.addChild(this.voiceOver),this.voiceOver.active=!1,this.voiceOverData=G(H.getInstance().getGameType())},o.updateVoiceOverMessage=function(e){this.voiceOver.getComponent("VoiceOver").updateMessage(e)},o.InactiveActivePopUp=function(e){this.voiceOver.getComponent("VoiceOver").InactiveActivePopUp(e)},o.updateVoiceOverCountDown=function(e){this.voiceOver.getComponent("VoiceOver").updateCountDown(e)},o.clickCallback=function(e,t){console.log(e)},o.pauseGame=function(){this.gamePaused=!0,this.touchRestriction.active=!0,this.unschedule(this.updateFallBoxFromTheSack)},o.resumeGame=function(){this.gamePaused=!1,this.touchRestriction.active=!1,this.updateFallBoxFromTheSack(),this.schedule(this.updateFallBoxFromTheSack,3)},o.noMoreHeartsLeft=function(){this.pauseGame(),this.createSummary(),this.gameOver()},o.onItemButtonClick=function(){},o.gameOver=function(){var e=this;this.unschedule(this.moveBoxesToPlane);var t=this.HUDLayer.getComponent("HUDLayer").getHeartsConsumed(),o=t<100?[t]:[100*Math.floor(t/100),t%100],n=o.map((function(e){return F.getInstance().getAudioClip(e)})).filter((function(e){return null!=e})),i=n.map((function(e){return null==e?void 0:e.getDuration()})).reduce((function(e,t){return e+t}),0);o[0]>0?f(this.node).call((function(){var t=e.voiceOverData.end,o=e.HUDLayer.getComponent("HUDLayer").getHeartsConsumed(),i=t.replace("xxx",String(o));e.updateVoiceOverMessage(i),e.voiceOver.active=!0;var a=F.getInstance().getAudioClip("your");M.getInstance().playSoundEffect(a),e.playAudios(0,n)})).delay(i).call((function(){var e=F.getInstance().getAudioClip("sectorHelp");M.getInstance().playSoundEffect(e)})).delay(8).call((function(){e.voiceOver.active=!1,e.showFactsPopUp()})).start():this.changeScene()},o.playAudios=function(e,t){var o=this;if(!(e>=t.length||0==t.length)){var n=t[e].getDuration();console.log("wait",e,n),f(this.node).call((function(){return M.getInstance().playSoundEffect(t[e])})).delay(n).call((function(){return o.playAudios(e+1,t)})).start()}},o.changeScene=function(){this.HUDLayer.getComponent("HUDLayer").getHeartsConsumed()>0?T.loadScene("gameSummary"):T.loadScene("accomplishment")},o.createSummary=function(){var e=new Array;e.push(this.boxesDonateCount+" boxes has contributed in providing humanitarian relief."),H.getInstance().setGameSummary(e)},t}(U)).prototype,"sack",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=w(Z.prototype,"platform",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=w(Z.prototype,"spriteBG",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=w(Z.prototype,"dummyBox",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=w(Z.prototype,"boundary",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=w(Z.prototype,"plane",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=w(Z.prototype,"hudPrefab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=w(Z.prototype,"boxPrefab",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=w(Z.prototype,"touchRestrictionPrefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=w(Z.prototype,"voiceOverPrefab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=w(Z.prototype,"factsPopUpPrefab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=w(Z.prototype,"boxSpriteFrams",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=Z))||K));t._RF.pop()}}}));

System.register("chunks:///_virtual/livelihood.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts","./strings.ts","./ResourceUtils.ts","./SoundManager.ts"],(function(e){"use strict";var t,n,i,o,a,r,s,c,u,l,p,m,h,d,g,f,v,b,y,I,C,D,T,O,U,P,w,S,R,E,k,L,F,B,H;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Sprite,o=e.Prefab,a=e.SpriteFrame,r=e.Enum,s=e.Node,c=e.AudioClip,u=e.AudioSource,l=e.instantiate,p=e.UITransform,m=e.Vec3,h=e.Widget,d=e.v3,g=e.tween,f=e.Intersection2D,v=e.math,b=e.director,y=e.Component},function(e){I=e.applyDecoratedDescriptor,C=e.inheritsLoose,D=e.defineProperty,T=e.assertThisInitialized,O=e.initializerDefineProperty,U=e.createForOfIteratorHelperLoose},function(e){P=e.LIVLI_ITEM_TYPE,w=e.LIVLI_CONTAINER_TYPE,S=e.DonateableItem,R=e.gameManager,E=e.SCENE_TYPE,k=e.GAME_TYPE,L=e.IN_GAME_CURR_OP},function(e){F=e.getVoiceOvers},function(e){B=e.ResourceUtils},function(e){H=e.SoundManager}],execute:function(){var A,x,N,_,z,M,V,q,G,W,K,Y,j,Q,J,X,Z,$,ee,te,ne,ie,oe,ae,re,se,ce,ue,le,pe,me,he,de,ge,fe,ve,be,ye,Ie,Ce,De,Te,Oe;t._RF.push({},"38a8bRl6zVA34FtcGo9ND+l","livelihood",void 0);var Ue=n.ccclass,Pe=n.property;e("Livelihood",(A=Ue("Livelihood"),x=Pe(i),N=Pe(i),_=Pe(i),z=Pe(o),M=Pe(o),V=Pe(o),q=Pe(o),G=Pe(o),W=Pe(o),K=Pe(o),Y=Pe(a),j=Pe({type:r(P)}),Q=Pe(a),J=Pe({type:r(w)}),X=Pe(s),Z=Pe(c),$=Pe(c),ee=Pe(c),te=Pe(o),ne=Pe(o),A((ae=I((oe=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,D(T(t),"HUDLayer",new s),D(T(t),"voiceOver",new s),D(T(t),"factsPopUp",new s),D(T(t),"touchRestriction",new s),D(T(t),"voiceOverData",void 0),D(T(t),"sideBarHeight",void 0),D(T(t),"foodBoxCount",0),D(T(t),"waterBoxCount",0),D(T(t),"clothesBoxCount",0),D(T(t),"gameSummary",new Array),D(T(t),"trucksReady",new Array),D(T(t),"donateableItemsInfo",new Array),D(T(t),"donateableItems",new Array),D(T(t),"containerItems",new Array),D(T(t),"trucksInfo",new Array),D(T(t),"dragable",new S),D(T(t),"dragableItemInitPos",void 0),D(T(t),"canDragItem",!1),D(T(t),"canUpdateDragableItemData",!0),D(T(t),"requestFrom",w.NONE),D(T(t),"requestedFor",P.NONE),D(T(t),"donationsDone",new Array),D(T(t),"pausePopUp",null),D(T(t),"gereranlFactsLayer",null),O(T(t),"itemContainer",ae,T(t)),O(T(t),"bg",re,T(t)),O(T(t),"sideBar",se,T(t)),O(T(t),"voiceOverPrefab",ce,T(t)),O(T(t),"touchRestrictionPrefab",ue,T(t)),O(T(t),"HUDLayerPrefab",le,T(t)),O(T(t),"itemPrefab",pe,T(t)),O(T(t),"itemInHandPrefab",me,T(t)),O(T(t),"dragableItemPrefab",he,T(t)),O(T(t),"factsPopUpPrefab",de,T(t)),O(T(t),"boxFrames",ge,T(t)),O(T(t),"boxType",fe,T(t)),O(T(t),"truckFrames",ve,T(t)),O(T(t),"truckType",be,T(t)),O(T(t),"containerItemsNode",ye,T(t)),O(T(t),"truckStartAndMove",Ie,T(t)),O(T(t),"donationDone",Ce,T(t)),O(T(t),"buttonClick",De,T(t)),O(T(t),"pausePopUpPrefab",Te,T(t)),O(T(t),"gerenalFacts",Oe,T(t)),t}C(t,e);var n=t.prototype;return n.start=function(){H.getInstance().init(this.node.getComponent(u)),R.getInstance().setSceneType(E.GAME),R.getInstance().setGameType(k.LIVLIHOOD),this.donateableItemsInfo=R.getInstance().getGameItems(k.LIVLIHOOD),R.getInstance().incrementUserHearts(R.getInstance().getGameTimeHeart(R.getInstance().getGameType()).hearts),this.HUDLayer=l(this.HUDLayerPrefab),this.node.addChild(this.HUDLayer),this.HUDLayer.getComponent("HUDLayer").setDelegate(this),this.dragable.item=l(this.dragableItemPrefab),this.bg.node.addChild(this.dragable.item),this.dragable.item.active=!1,this.createDonateableItems(),this.setUpTrucksInfo(),this.setupContanerItems(),this.touchEvents(),this.createVoiceOver(),this.addTouchRestriction(),this.addPausePopUp(),this.setUpFactsPopUp(),this.runTutorial()},n.setUpFactsPopUp=function(){this.factsPopUp=l(this.factsPopUpPrefab),this.bg.node.addChild(this.factsPopUp);var e=this.factsPopUp.getComponent("FactsPopUp");e.loadAccomplishments(),e.setDelegate(this),this.factsPopUp.active=!1},n.showFactsPopUp=function(){this.pauseTimer(),this.factsPopUp.getComponent("FactsPopUp").showFact()},n.createVoiceOver=function(){this.voiceOver=l(this.voiceOverPrefab),this.bg.node.addChild(this.voiceOver),this.voiceOver.active=!1,this.voiceOverData=F(R.getInstance().getGameType())},n.addTouchRestriction=function(){this.touchRestriction=l(this.touchRestrictionPrefab),this.node.addChild(this.touchRestriction)},n.loadVideo=function(){},n.startTimer=function(){this.HUDLayer.getComponent("HUDLayer").startTimer()},n.pauseTimer=function(){this.HUDLayer.getComponent("HUDLayer").pauseTimer()},n.resumeTimer=function(){this.HUDLayer.getComponent("HUDLayer").resumeTimer()},n.createDonateableItems=function(){var e,t=this;this.sideBarHeight=null===(e=this.sideBar.getComponent(p))||void 0===e?void 0:e.contentSize.height,this.boxFrames.forEach((function(e,n,o){var a,r,s=t.donateableItemsInfo.find((function(e){return e.type===t.boxType[n]})),c=l(t.itemPrefab),u=c.getComponent("Item");u.setDelegate(t),u.upateItemData(s,e);var h=t.sideBarHeight/o.length*(n+.5),d=t.sideBarHeight/(o.length+1.5)*.8/(null===(a=c.getComponent(p))||void 0===a?void 0:a.contentSize.height);c.setScale(new m(d,d,d)),c.position.y=h;var g=null===(r=c.getChildByName("itemImage"))||void 0===r?void 0:r.getChildByName("border");g.active=!0,g.getComponent(i).color=s.color,t.sideBar.node.addChild(c),t.donateableItems.push({type:s.type,donationTo:w.NONE,item:c,price:s.price,name:s.name})}))},n.setUpTrucksInfo=function(){var e=this;this.truckFrames.forEach((function(t,n,i){e.trucksInfo.push({type:e.truckType[n],spriteFrame:t}),e.trucksReady.push(e.truckType[n])}))},n.setupContanerItems=function(){var e=this;this.containerItemsNode.forEach((function(t,n,i){e.containerItems.push({type:e.truckType[n],requiredItem:P.NONE,item:t,itemCount:0,name:"truck"+n})}))},n.touchEvents=function(){this.node.on(s.EventType.TOUCH_START,this.itemTouchStartCallback,this),this.node.on(s.EventType.TOUCH_MOVE,this.itemTouchMoveCallback,this),this.node.on(s.EventType.TOUCH_END,this.itemTouchEndCallback,this),this.node.on(s.EventType.TOUCH_CANCEL,this.itemTouchEndCallback,this)},n.itemTouchStartCallback=function(e){var t;null===(t=this.sideBar.getComponent(h))||void 0===t||t.updateAlignment();var n=e.getUILocation();if(this.canUpdateDragableItemData)for(var i=0;i<this.donateableItems.length;i++){var o;if(null===(o=this.donateableItems[i].item.getComponent(p))||void 0===o?void 0:o.getBoundingBoxToWorld().contains(d(n.x,n.y,0))){this.updateDragableItemData(this.donateableItems[i],d(n.x,n.y,0));break}}},n.updateDragableItemData=function(e,t){var n;switch(this.canUpdateDragableItemData=!1,this.dragable.item.getComponent(i).spriteFrame=e.item.getComponent("Item").getItemImage(),this.dragable.item.setScale(e.item.getComponent("Item").getItemImageScale()),this.dragable.item.position=null===(n=this.bg.getComponent(p))||void 0===n?void 0:n.convertToNodeSpaceAR(t),this.dragableItemInitPos=t,this.dragable.type=e.type,this.dragable.price=e.price,this.dragable.name=e.name,this.dragable.type){case P.FOOD:this.generateRequest(w.FOOD_TRUCK,P.FOOD);break;case P.CLOTHES:this.generateRequest(w.CLOTHES_TRUCK,P.CLOTHES);break;case P.WATER:this.generateRequest(w.WATER_TRUCK,P.WATER)}this.canDragItem=!0,this.dragable.item.active=!0},n.resetDragableItemData=function(){this.canDragItem=!1,this.dragable.item.active=!1,this.requestFrom=w.NONE,this.requestedFor=P.NONE,this.dragable.donationTo=w.NONE,this.dragable.price=0,this.dragable.name="",this.dragable.type=P.NONE,this.canUpdateDragableItemData=!0},n.generateRequest=function(e,t){this.requestFrom=e,this.requestedFor=t,this.dragable.donationTo=e},n.itemTouchMoveCallback=function(e){var t=e.getUILocation();if(this.canDragItem){var n,i=null===(n=this.bg.getComponent(p))||void 0===n?void 0:n.convertToNodeSpaceAR(d(t.x,t.y,0));this.dragable.item.position=i}},n.itemTouchEndCallback=function(e){var t=this;e.getStartLocation();if(this.canDragItem){this.containerItems.find((function(e){return e.type===t.requestFrom}));var n=this.containerItems.filter((function(e){return e.type==t.requestFrom})),i=this.checkDragableIntersectWith(n),o=i.container,a=i.isDragableIntersectContainer;n.length&&o||this.putDragableItemBack();var r=this.requestedFor===this.dragable.type;if(!o)return void this.putDragableItemBack();var s=o.itemCount==this.getContainerItemCapacity(this.requestFrom);if(r&&a&&!s){var c=this.HUDLayer.getComponent("HUDLayer").updateHearts(L.DECREASE,this.dragable.price);""!==c.error?(this.putDragableItemBack(),console.log(c.error)):(o.itemCount++,H.getInstance().playSoundEffect(this.donationDone),o.itemCount==this.getContainerItemCapacity(this.requestFrom)&&(this.addToCompletedDonation(this.requestFrom,this.requestedFor),this.moveTruck(o,this.requestFrom)),this.resetDragableItemData(),c.gameover&&(this.pauseTimer(),this.noMoreHeartsLeft()))}else this.putDragableItemBack()}},n.putDragableItemBack=function(){var e,t=this;this.canDragItem=!1;var n=null===(e=this.bg.getComponent(p))||void 0===e?void 0:e.convertToNodeSpaceAR(d(this.dragableItemInitPos.x,this.dragableItemInitPos.y,0));g(this.dragable.item).to(.2,{position:n}).call((function(){t.resetDragableItemData()})).start()},n.checkDragableIntersectExcept=function(e){for(var t,n=null===(t=this.dragable.item.getComponent(p))||void 0===t?void 0:t.getBoundingBoxToWorld(),i=0;i<this.containerItems.length;i++)if(this.containerItems[i].type!==e){var o,a=null===(o=this.containerItems[i].item.getComponent(p))||void 0===o?void 0:o.getBoundingBoxToWorld();if(f.rectRect(a,n))return!0}return!1},n.checkDragableIntersectWith=function(e){for(var t,n=U(e);!(t=n()).done;){var i,o,a,r,s=t.value,c=null===(i=s.item.getComponent(p))||void 0===i?void 0:i.convertToWorldSpaceAR(d(s.item.x,s.item.y,0)),u=null===(o=this.bg.node.getComponent(p))||void 0===o?void 0:o.convertToNodeSpaceAR(d(c.x,c.y,0)),l=new v.Rect((null==u?void 0:u.x)-.5*s.item.width,(null==u?void 0:u.y)-.5*s.item.height,s.item.width,s.item.height),m=null===(a=this.dragable.item.getComponent(p))||void 0===a?void 0:a.getBoundingBox();if(s.item&&this.dragable.item&&f.rectRect(m,l))return null===(r=s.item.getComponent(p))||void 0===r||r.getBoundingBoxToWorld(),{container:s,isDragableIntersectContainer:!0}}return{container:null,isDragableIntersectContainer:!1}},n.timePaused=function(){this.touchRestriction.active=!0,this.showPausePopUp(!0)},n.timeRunning=function(){this.touchRestriction.active=!1},n.timeOver=function(){this.touchRestriction.active=!0,this.createSummary(),this.gameOver()},n.noMoreHeartsLeft=function(){this.touchRestriction.active=!0,this.createSummary(),this.gameOver()},n.onItemButtonClick=function(){},n.moveTruck=function(e,t){var n=this;this.trucksReady.splice(this.trucksReady.indexOf(t),1);var i=e.item.parent.getChildByName("MoveTo").position,o=e.item.parent.getChildByName("initPos").position;H.getInstance().playSoundEffect(this.truckStartAndMove),g(e.item).delay(2).to(4,{position:new m(i.x,i.y,0)}).call((function(){n.setRandomTruck(e)})).to(0,{position:new m(o.x,o.y,0)}).call((function(){n.setItemCountInContainer(t,0)})).start()},n.setRandomTruck=function(e){var t=this,n=this.truckType.filter((function(e){return!t.trucksReady.includes(e)})),o=n[Math.floor(Math.random()*n.length)],a=this.trucksInfo.find((function(e){return e.type==o}));e.item.getChildByName("Sprite").getComponent(i).spriteFrame=a.spriteFrame,e.type=a.type,e.itemCount=0,this.trucksReady.push(a.type)},n.gameOver=function(){var e=this;this.touchRestriction.active=!0;var t=this.HUDLayer.getComponent("HUDLayer").getHeartsConsumed(),n=(t<100?[t]:[100*Math.floor(t/100),t%100]).map((function(e){return B.getInstance().getAudioClip(e)})).filter((function(e){return null!=e})),i=n.map((function(e){return null==e?void 0:e.getDuration()})).reduce((function(e,t){return e+t}),0);this.donationsDone.length>0?g(this.node).call((function(){var t=e.voiceOverData.end,i=e.HUDLayer.getComponent("HUDLayer").getHeartsConsumed(),o=t.replace("xxx",String(i));e.updateVoiceOverMessage(o),e.voiceOver.active=!0;var a=B.getInstance().getAudioClip("your");H.getInstance().playSoundEffect(a),e.playAudios(0,n)})).delay(i).call((function(){var e=B.getInstance().getAudioClip("sectorHelp");H.getInstance().playSoundEffect(e)})).delay(8).call((function(){e.voiceOver.active=!1,e.showFactsPopUp()})).start():this.changeScene()},n.changeScene=function(){this.donationsDone.length>0?b.loadScene("gameSummary"):b.loadScene("accomplishment")},n.addToCompletedDonation=function(e,t){this.donationsDone.push({requestFrom:e,requestedFor:t})},n.createSummary=function(){var e=0,t=0,n=0;this.donationsDone.forEach((function(i){switch(i.requestFrom){case w.CLOTHES_TRUCK:e++;break;case w.WATER_TRUCK:t++;break;case w.FOOD_TRUCK:n++}})),e>0&&this.gameSummary.push("Sent "+e+" clothes trucks of Livelihood Support for the vulnerable communities."),t>0&&this.gameSummary.push("Sent "+t+" water trucks of Livelihood Support for the vulnerable communities."),n>0&&this.gameSummary.push("Sent "+n+" food trucks of Livelihood Support for the vulnerable communities."),R.getInstance().setGameSummary(this.gameSummary)},n.getContainerItemCapacity=function(e){var t=0;switch(e){case w.CLOTHES_TRUCK:case w.WATER_TRUCK:case w.FOOD_TRUCK:t=2}return t},n.setItemCountInContainer=function(e,t){switch(e){case w.CLOTHES_TRUCK:this.clothesBoxCount=t;break;case w.WATER_TRUCK:this.waterBoxCount=t;break;case w.FOOD_TRUCK:this.foodBoxCount=t}},n.getItemCountInContainer=function(e){var t=0;switch(e){case w.CLOTHES_TRUCK:t=this.clothesBoxCount;break;case w.WATER_TRUCK:t=this.waterBoxCount;break;case w.FOOD_TRUCK:t=this.foodBoxCount}return t},n.getPositionOnBG=function(e){var t,n,i=null===(t=e.getComponent(p))||void 0===t?void 0:t.getBoundingBoxToWorld();return null===(n=this.bg.getComponent(p))||void 0===n?void 0:n.convertToNodeSpaceAR(d(i.x+.5*i.width,i.y+.5*i.height,0))},n.getDonatbleItemPositionOnBG=function(e){var t,n,i=null===(t=e.getComponent(p))||void 0===t?void 0:t.getBoundingBoxToWorld();return null===(n=this.bg.getComponent(p))||void 0===n?void 0:n.convertToNodeSpaceAR(d(i.x+4*i.width,i.y,0))},n.runTutorial=function(){var e=this,t=l(this.itemInHandPrefab);this.bg.node.addChild(t),t.active=!1;var n=this.getDonatbleItemPositionOnBG(this.donateableItems[0].item.getChildByName("itemImage")),o=this.getPositionOnBG(this.containerItems[2].item),a=this.donateableItems[0].item.getComponent("Item").getItemImage(),r=this.getDonatbleItemPositionOnBG(this.donateableItems[1].item.getChildByName("itemImage")),s=this.getPositionOnBG(this.containerItems[1].item),c=this.donateableItems[1].item.getComponent("Item").getItemImage(),p=this.getDonatbleItemPositionOnBG(this.donateableItems[2].item.getChildByName("itemImage")),h=this.getPositionOnBG(this.containerItems[0].item),d=this.donateableItems[2].item.getComponent("Item").getItemImage();g(t).call((function(){e.updateVoiceOverMessage(e.voiceOverData.introduction),e.voiceOver.active=!0;var t=B.getInstance().getGameResources("LiveliHood","Vo1");t&&H.getInstance().playSoundEffect(t)})).delay(7).call((function(){e.voiceOver.active=!1,t.active=!0,t.getComponent(i).spriteFrame=a})).to(0,{position:new m(n.x,n.y,0)}).to(2,{position:new m(o.x,o.y,0)}).call((function(){H.getInstance().playSoundEffect(e.donationDone),t.getComponent(i).spriteFrame=c})).to(0,{position:new m(r.x,r.y,0)}).to(2,{position:new m(s.x,s.y,0)}).call((function(){H.getInstance().playSoundEffect(e.donationDone),t.getComponent(i).spriteFrame=d})).to(0,{position:new m(p.x,p.y,0)}).to(2,{position:new m(h.x,h.y,0)}).call((function(){H.getInstance().playSoundEffect(e.donationDone),t.active=!1;var n=B.getInstance().getGameResources("LiveliHood","Vo2");n&&H.getInstance().playSoundEffect(n),e.updateVoiceOverMessage(e.voiceOverData.tutorial),e.voiceOver.active=!0})).delay(8).call((function(){var e=B.getInstance().getAudioClip("countdown");e&&H.getInstance().playSoundEffect(e)})).delay(1.5).call((function(){e.InactiveActivePopUp(!1),e.updateVoiceOverCountDown("3")})).delay(.8).call((function(){e.updateVoiceOverCountDown("2")})).delay(.8).call((function(){e.updateVoiceOverCountDown("1")})).delay(.8).call((function(){e.updateVoiceOverCountDown("GO!")})).delay(1).call((function(){e.InactiveActivePopUp(!0),e.voiceOver.active=!1,e.showFactsPopUp();var t=B.getInstance().getGameResources("LiveliHood","music");t&&(e.node.getComponent(u).clip=t,H.getInstance().playMusic(!0))})).start()},n.updateVoiceOverMessage=function(e){this.voiceOver.getComponent("VoiceOver").updateMessage(e)},n.InactiveActivePopUp=function(e){this.voiceOver.getComponent("VoiceOver").InactiveActivePopUp(e)},n.updateVoiceOverCountDown=function(e){this.voiceOver.getComponent("VoiceOver").updateCountDown(e)},n.addPausePopUp=function(){var e;this.pausePopUp=l(this.pausePopUpPrefab),null===(e=this.pausePopUp.getComponent("Popup"))||void 0===e||e.init(this),this.node.addChild(this.pausePopUp),this.node.setSiblingIndex(10),this.pausePopUp.active=!1},n.onReload=function(){b.loadScene("education")},n.onResume=function(){this.HUDLayer.getComponent("HUDLayer").resumeTimer(),this.timeRunning(),this.pausePopUp.active=!1},n.showPausePopUp=function(e){this.pausePopUp.getComponent("Popup").changeButtonState(e),this.pausePopUp.active=!0},n.playResultVoiceOver=function(e){var t=B.getInstance().getAudioClip("your"),n=e.map((function(e){return B.getInstance().getAudioClip(e)})),i=B.getInstance().getAudioClip("sectorHelp");1==e.length?g(this.node).call((function(){return H.getInstance().playSoundEffect(t)})).delay(1).call((function(){H.getInstance().playSoundEffect(n[0])})).delay(1).call((function(){H.getInstance().playSoundEffect(i)})).start():g(this.node).call((function(){H.getInstance().playSoundEffect(t)})).delay(2).call((function(){return H.getInstance().playSoundEffect(n[0])})).delay(2).call((function(){return H.getInstance().playSoundEffect(n[1])})).delay(2).call((function(){H.getInstance().playSoundEffect(i)})).start()},n.playAudios=function(e,t){var n=this;if(!(e>=t.length||0==t.length)){var i=t[e].getDuration();console.log("wait",e,i),g(this.node).call((function(){return H.getInstance().playSoundEffect(t[e])})).delay(i).call((function(){return n.playAudios(e+1,t)})).start()}},n.startQuiz=function(){console.log("inside this start quiz",this.gereranlFactsLayer),this.gereranlFactsLayer.active=!0},n.onFactEnd=function(){this.gereranlFactsLayer.active=!1,this.onResume()},t}(y)).prototype,"itemContainer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new i}}),re=I(oe.prototype,"bg",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new i}}),se=I(oe.prototype,"sideBar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new i}}),ce=I(oe.prototype,"voiceOverPrefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new o}}),ue=I(oe.prototype,"touchRestrictionPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new o}}),le=I(oe.prototype,"HUDLayerPrefab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new o}}),pe=I(oe.prototype,"itemPrefab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new o}}),me=I(oe.prototype,"itemInHandPrefab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new o}}),he=I(oe.prototype,"dragableItemPrefab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new o}}),de=I(oe.prototype,"factsPopUpPrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new o}}),ge=I(oe.prototype,"boxFrames",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=I(oe.prototype,"boxType",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ve=I(oe.prototype,"truckFrames",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=I(oe.prototype,"truckType",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ye=I(oe.prototype,"containerItemsNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ie=I(oe.prototype,"truckStartAndMove",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=I(oe.prototype,"donationDone",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=I(oe.prototype,"buttonClick",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=I(oe.prototype,"pausePopUpPrefab",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new o}}),Oe=I(oe.prototype,"gerenalFacts",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=oe))||ie));t._RF.pop()}}}));

System.register("chunks:///_virtual/login.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts","./strings.ts","./ResourceUtils.ts","./SoundManager.ts","./NetworkConfig.ts","./NetworkManager.ts","./userDetails.ts"],(function(e){"use strict";var r,t,o,n,a,i,s,l,c,u,d,g,p,f,h,b,m,L,E,y,I,w,v,S,P,N,R,C,A;return{setters:[function(e){r=e.cclegacy,t=e._decorator,o=e.EditBox,n=e.Button,a=e.Prefab,i=e.Sprite,s=e.AudioClip,l=e.Node,c=e.ProgressBar,u=e.AudioSource,d=e.instantiate,g=e.director,p=e.Label,f=e.tween,h=e.Component},function(e){b=e.applyDecoratedDescriptor,m=e.inheritsLoose,L=e.defineProperty,E=e.assertThisInitialized,y=e.initializerDefineProperty},function(e){I=e.gameManager},function(e){w=e.ERROR_MSG},function(e){v=e.ResourceUtils},function(e){S=e.SoundManager},function(e){P=e.SERVER,N=e.API_END_POINTS,R=e.REQUEST_TYPE},function(e){C=e.NetworkManager},function(e){A=e.UserDetails}],execute:function(){var k,B,V,D,O,M,_,F,z,U,j,G,T,J,x,q,H,Q,W,Y,Z;r._RF.push({},"3ebacbtCGZOmLGOrSTrRRh5","login",void 0);var K=t.ccclass,X=t.property;e("Login",(k=K("Login"),B=X({type:o,displayName:"Username Editbox"}),V=X({type:o,displayName:"Password Editbox"}),D=X(n),O=X(a),M=X(a),_=X(i),F=X(s),z=X(l),U=X(c),k((T=b((G=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return r=e.call.apply(e,[this].concat(o))||this,L(E(r),"errorLayer",null),L(E(r),"rememberMe",!1),L(E(r),"loaderLayer",null),L(E(r),"loaderAction",null),y(E(r),"usernameEb",T,E(r)),y(E(r),"passwordEb",J,E(r)),y(E(r),"logInButton",x,E(r)),y(E(r),"errorPrefab",q,E(r)),y(E(r),"loaderPrefab",H,E(r)),y(E(r),"startImage",Q,E(r)),y(E(r),"buttonClick",W,E(r)),y(E(r),"loader",Y,E(r)),y(E(r),"progressBar",Z,E(r)),r}m(r,e);var t=r.prototype;return t.start=function(){S.getInstance().init(this.node.getComponent(u)),this.loadGameSubPackage(),this.errorLayer=d(this.errorPrefab),this.node.addChild(this.errorLayer),this.inActiveErrorLayer(),this.loaderLayer=d(this.loaderPrefab),this.node.addChild(this.loaderLayer),this.loaderLayer.active=!1,C.getInstance().init(P),this.onLoginPageLoad(!1)},t.loadGameSubPackage=function(){var e=this;console.log("progressBar",this.progressBar);var r=0,t=setInterval((function(){r+=100,e.progressBar&&(e.progressBar.progress=Math.min(r/2e3,.95),console.log("inside this",e.progressBar.progress))}),2e3);v.getInstance().loadGameResources("Education").then((function(){return v.getInstance().loadGameResources("LiveliHood")})).then((function(){return v.getInstance().loadGameResources("Relief")})).then((function(e){return v.getInstance().loadNumberAudio()})).then((function(e){return v.getInstance().loadCountriesAudio()})).then((function(r){console.log("data has been loaded"),e.progressBar.progress=100,e.loader.active=!1,clearInterval(t)})).catch((function(e){console.log("error while laoding game data",e)})),g.preloadScene("home",(function(){console.log("home scene loaded")}))},t.onEditingDidEnded=function(e){this.inActiveErrorLayer();e.node.getComponent("FieldValidator").doValidation(e.string)},t.checkIfFormIsValid=function(){this.inActiveErrorLayer();var e=this.usernameEb.getComponent("FieldValidator").doValidation(this.usernameEb.string),r=this.passwordEb.getComponent("FieldValidator").doValidation(this.passwordEb.string);if(0!=this.usernameEb.string.length&&0!=this.passwordEb.string.length){switch(!1){case e.isValid:return this.activeErrorLayer(w.INAVLIDE_CREDENTIALS),console.log("isEmailValid"),!1;case r.isValid:return this.activeErrorLayer(w.INAVLIDE_CREDENTIALS),console.log("isPasswordValid"),!1}return!0}},t.activeErrorLayer=function(e){this.errorLayer.getChildByName("ErrorMsg").getComponent(p).string=e,this.errorLayer.active=!0},t.inActiveErrorLayer=function(){this.errorLayer.active=!1},t.startLoader=function(){this.loaderAction=f(this.loaderLayer.getChildByName("LoaderIcon")).by(.1,{angle:-40}).repeatForever().start(),this.loaderLayer.active=!0},t.stopLoader=function(){this.loaderLayer.active=!1,this.loaderAction.stop()},t.onRemeberMe=function(e){console.log(e.isChecked),this.rememberMe=e.isChecked},t.showPassword=function(e){e.isChecked?this.passwordEb.inputFlag=5:this.passwordEb.inputFlag=0},t.onSignUp=function(e){g.loadScene("registration")},t.onForgetPassword=function(){g.loadScene("forgotPassword")},t.onLogin=function(){var e=this;if(S.getInstance().playSoundEffect(this.buttonClick),this.checkIfFormIsValid()){this.startLoader(),console.log("username",this.usernameEb.string,this.passwordEb.string),C.getInstance().sendRequest(N.LOG_IN,R.POST,{emailOrUsername:this.usernameEb.string,password:this.passwordEb.string},(function(r){e.stopLoader(),console.log("on success data",r),console.log("on success json object",JSON.parse(r)),r=JSON.parse(r),e.activeErrorLayer(r.msg);var t=r.data.token;sessionStorage.setItem("jwtToken",t),e.onLoginPageLoad(!0)}),(function(r){e.stopLoader(),console.log("on faiure data",r),console.log("on faiure json object",JSON.parse(r)),r=JSON.parse(r),e.activeErrorLayer(r.msg)}))}},t.onLoginPageLoad=function(e){var r=this;this.startLoader(),C.getInstance().sendRequest(N.USER_PROFILE,R.GET,{},(function(t){r.stopLoader(),console.log("on success data",t),console.log("on success json object"),t=JSON.parse(t),A.getInstance().setUserDetails(t.data),console.log("userDetails",A.getInstance().getUserDetails(),t.data),I.getInstance().doNeedtoShowWelcomePopUp(!e),g.loadScene("about")}),(function(e){r.stopLoader(),console.log("on faiure data",e),console.log("on faiure json object",JSON.parse(e)),r.startImage.node.active=!1}),!0)},r}(h)).prototype,"usernameEb",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new o}}),J=b(G.prototype,"passwordEb",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new o}}),x=b(G.prototype,"logInButton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=b(G.prototype,"errorPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=b(G.prototype,"loaderPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=b(G.prototype,"startImage",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=b(G.prototype,"buttonClick",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=b(G.prototype,"loader",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=b(G.prototype,"progressBar",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=G))||j));r._RF.pop()}}}));

System.register("chunks:///_virtual/FieldValidator.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./Validations.ts"],(function(i){"use strict";var t,e,a,n,r,o,l,c,s;return{setters:[function(i){t=i.cclegacy,e=i._decorator,a=i.Enum,n=i.Component},function(i){r=i.applyDecoratedDescriptor,o=i.inheritsLoose,l=i.initializerDefineProperty,c=i.assertThisInitialized},function(i){s=i.Validator}],execute:function(){var u,d,A,p,E;i("VALIDATOR_TYPE",void 0),t._RF.push({},"4122b2L00VGNLLgWSNjX6cc","FieldValidator",void 0);var M,V=e.ccclass,f=e.property;!function(i){i[i.EMAIL=1]="EMAIL",i[i.PASSWORD=2]="PASSWORD",i[i.USERNAME=3]="USERNAME",i[i.NAME=4]="NAME",i[i.UNAME_EMAIL=5]="UNAME_EMAIL"}(M||(M=i("VALIDATOR_TYPE",{})));i("FieldValidator",(u=V("FieldValidator"),d=f({type:a(M)}),u((E=r((p=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t=i.call.apply(i,[this].concat(a))||this,l(c(t),"validationType",E,c(t)),t}return o(t,i),t.prototype.doValidation=function(i){switch(console.log("text",i),this.validationType){case M.EMAIL:return s.emailValidation(i);case M.NAME:return s.nameValidation(i);case M.USERNAME:return s.usernameValidation(i);case M.PASSWORD:return s.passwordValidation(i);case M.UNAME_EMAIL:return s.uNameEmailValidation(i)}},t}(n)).prototype,"validationType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.NAME}}),A=p))||A));t._RF.pop()}}}));

System.register("chunks:///_virtual/userDetails.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,s;return{setters:[function(e){t=e.cclegacy},function(e){s=e.defineProperty}],execute:function(){t._RF.push({},"437aeseALhLg6aBR1OEZG1E","userDetails",void 0);var i=e("UserDetails",function(){function e(){s(this,"firstName",""),s(this,"lastName",""),s(this,"username",""),s(this,"gender",2),s(this,"email",""),s(this,"numberOfHeart",0)}e.getInstance=function(){return e.intance||(e.intance=new e),e.intance};var t=e.prototype;return t.setUserDetails=function(e){var t=e.firstName,s=e.lastName,i=e.userName,n=e.gender,a=e.email,r=e.noOfHearts;console.log(t,s,i,n,a,r),this.firstName=t,this.lastName=s,this.username=i,this.gender=n,this.email=a,this.numberOfHeart=r},t.getUserDetails=function(){return{firstName:this.firstName,lastName:this.lastName,username:this.username,gender:this.gender,email:this.email}},e}());s(i,"intance",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/home.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts","./ResourceUtils.ts","./SoundManager.ts","./userDetails.ts"],(function(e){"use strict";var t,i,n,o,a,r,l,c,s,u,d,h,p,g,f,m,v,y,b,C,P,B,V,k,S;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.Sprite,o=e.Label,a=e.SpriteFrame,r=e.AudioClip,l=e.Node,c=e.VideoPlayer,s=e.AudioSource,u=e.tween,d=e.Button,h=e.instantiate,p=e.director,g=e.sys,f=e.Component},function(e){m=e.applyDecoratedDescriptor,v=e.inheritsLoose,y=e.defineProperty,b=e.assertThisInitialized,C=e.initializerDefineProperty},function(e){P=e.gameManager,B=e.SCENE_TYPE},function(e){V=e.ResourceUtils},function(e){k=e.SoundManager},function(e){S=e.UserDetails}],execute:function(){var E,I,M,w,G,O,z,H,R,D,N,U,L,_,T,F,A,Y,j,x,Z,q,J,K,Q,W,X;t._RF.push({},"5fa3enhViZOT4wkw1hvomSu","home",void 0);var $=i.ccclass,ee=i.property;e("Home",(E=$("Home"),I=ee(n),M=ee(o),w=ee(o),G=ee(a),O=ee(r),z=ee(r),H=ee(l),R=ee(o),D=ee(r),N=ee(c),U=ee(l),L=ee([l]),E((F=m((T=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,y(b(t),"currentScene",""),y(b(t),"isVideoPlaying",!1),y(b(t),"currentGame",null),C(b(t),"profilePicture",F,b(t)),C(b(t),"Name",A,b(t)),C(b(t),"email",Y,b(t)),C(b(t),"gender",j,b(t)),C(b(t),"buttonClick",x,b(t)),C(b(t),"homeVoiceOver",Z,b(t)),C(b(t),"welcomeBack",q,b(t)),C(b(t),"heartCount",J,b(t)),C(b(t),"homeMusic",K,b(t)),C(b(t),"videoPlayer",Q,b(t)),C(b(t),"videoBg",W,b(t)),C(b(t),"sceneButtons",X,b(t)),t}v(t,e);var i=t.prototype;return i.start=function(){P.getInstance().setSceneType(B.HOME),k.getInstance().init(this.node.getComponent(s)),this.setUpUserProfile(),this.playHomeVoiceOver(),this.videoEvents()},i.playHomeVoiceOver=function(){var e=this;if(console.log("gameManager.getInstance().isVoiceOverPlayer(SCENE_TYPE.HOME)",P.getInstance().isVoiceOverPlayer(B.HOME)),P.getInstance().isVoiceOverPlayer(B.HOME))this.playMusic();else{var t=this.homeVoiceOver.getDuration();console.log("homeVoiceOver",this.homeVoiceOver,t),u(this.node).call((function(){e.node.getComponent(s).clip=e.homeVoiceOver,k.getInstance().playMusic(!1),P.getInstance().setVoiceOverPlayed(B.HOME,!0)})).delay(8).call((function(){e.playMusic()})).start()}},i.enableHomeButtons=function(e,t){console.log("targte",t,t.sceneButtons),t&&t.sceneButtons&&(t.sceneButtons[e].getComponent(d).interactable=!0,t.sceneButtons[e].getComponent(n).grayscale=!1)},i.playMusic=function(){this.isVideoPlaying||(k.getInstance().init(this.node.getChildByName("spriteBG").getComponent(s)),this.node.getChildByName("spriteBG").getComponent(s).clip=this.homeMusic,k.getInstance().playMusic(!0))},i.setUpUserProfile=function(){var e=S.getInstance().getUserDetails();this.Name.string=e.firstName,this.email.string=e.email,this.profilePicture.spriteFrame=1==e.gender?this.gender[0]:this.gender[1]},i.onEducation=function(){this.playButtonClickSound();var e=V.getInstance().getGameResources("Education","video");this.playVideoCallback(e);var t=V.getInstance().getGamePrefab("Education");this.currentGame=h(t),this.currentGame.active=!1,this.node.addChild(this.currentGame)},i.onLivelihood=function(){this.playButtonClickSound();var e=V.getInstance().getGameResources("LiveliHood","video");this.playVideoCallback(e);var t=V.getInstance().getGamePrefab("LiveliHood");console.log("prefabe",t),this.currentGame=h(t),this.currentGame.active=!1,this.node.addChild(this.currentGame)},i.onRelief=function(){this.playButtonClickSound();var e=V.getInstance().getGameResources("Relief","video");this.playVideoCallback(e);var t=V.getInstance().getGamePrefab("Relief");console.log("prefabe",t),this.currentGame=h(t),this.currentGame.active=!1,this.node.addChild(this.currentGame)},i.onHealthcare=function(){this.playButtonClickSound(),p.loadScene("healthcare")},i.onProfileView=function(){this.playButtonClickSound(),p.loadScene("playerProfile")},i.onDonate=function(){this.playButtonClickSound(),g.openURL(" https://tbhf.ae/donate/")},i.playButtonClickSound=function(){this.node.getComponent(s).currentTime=this.homeVoiceOver.getDuration(),k.getInstance().stopSoundEffect(),k.getInstance().playSoundEffect(this.buttonClick)},i.videoEvents=function(){this.videoPlayer.node.on("completed",this.videoEndCallback,this),this.videoPlayer.node.on("clicked",this.videoEndCallback,this)},i.playVideoCallback=function(e){this.videoBg.active=!0,this.isVideoPlaying=!0,k.getInstance().stopMusic(),this.videoPlayer.clip=e,this.videoPlayer.node.active=!0,this.videoPlayer.play()},i.videoEndCallback=function(){this.videoPlayer.node.active&&(this.videoBg.active=!1,this.videoPlayer.node.active=!1,this.currentGame.active=!0)},t}(f)).prototype,"profilePicture",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=m(T.prototype,"Name",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=m(T.prototype,"email",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=m(T.prototype,"gender",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=m(T.prototype,"buttonClick",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=m(T.prototype,"homeVoiceOver",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=m(T.prototype,"welcomeBack",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=m(T.prototype,"heartCount",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=m(T.prototype,"homeMusic",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=m(T.prototype,"videoPlayer",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=m(T.prototype,"videoBg",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=m(T.prototype,"sceneButtons",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=T))||_));t._RF.pop()}}}));

System.register("chunks:///_virtual/item.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,i,n,r,a,o,c,m,s,u,l,p;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.Sprite,r=e.Label,a=e.UITransform,o=e.Vec3,c=e.Component},function(e){m=e.applyDecoratedDescriptor,s=e.inheritsLoose,u=e.defineProperty,l=e.assertThisInitialized,p=e.initializerDefineProperty}],execute:function(){var g,f,h,d,I,b,v,y,w,S,P;t._RF.push({},"62d9f/OWBdGVrnel46Jj7no","item",void 0);var z=i.ccclass,_=i.property;e("Item",(g=z("Item"),f=_(n),h=_(n),d=_(r),I=_(r),g((y=m((v=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,u(l(t),"_delagateScript",void 0),p(l(t),"baseImage",y,l(t)),p(l(t),"itemImage",w,l(t)),p(l(t),"itemName",S,l(t)),p(l(t),"itemPrice",P,l(t)),t}s(t,e);var i=t.prototype;return i.start=function(){},i.setDelegate=function(e){this._delagateScript=e},i.onPauseButtonPressed=function(){this._delagateScript.timePaused()},i.upateItemData=function(e,t){var i,r;this.itemName.string=e.name,this.itemPrice.string=e.price,this.itemImage.getComponent(n).spriteFrame=t;var c=(null===(i=this.baseImage.getComponent(a))||void 0===i?void 0:i.contentSize.height)/(null===(r=this.itemImage.getComponent(a))||void 0===r?void 0:r.contentSize.height);this.itemImage.node.setScale(new o(c,c,c))},i.getItemImage=function(){return this.itemImage.getComponent(n).spriteFrame},i.getItemImageScale=function(){return this.itemImage.node.getScale()},t}(c)).prototype,"baseImage",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new n}}),w=m(v.prototype,"itemImage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new n}}),S=m(v.prototype,"itemName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),P=m(v.prototype,"itemPrice",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),b=v))||b));t._RF.pop()}}}));

System.register("chunks:///_virtual/accomplishment.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts","./strings.ts"],(function(e){"use strict";var t,n,i,o,c,a,s,m,r,h,l,p,u,g,d,v,f;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Node,o=e.Prefab,c=e.Label,a=e.instantiate,s=e.UITransform,m=e.Size,r=e.director,h=e.Component},function(e){l=e.applyDecoratedDescriptor,p=e.inheritsLoose,u=e.defineProperty,g=e.assertThisInitialized,d=e.initializerDefineProperty},function(e){v=e.gameManager},function(e){f=e.getAccomplishments}],execute:function(){var b,y,z,C,w,S,F,P,A,T,D,G,H;t._RF.push({},"6303eznnVRLjoOeBzEbZDem","accomplishment",void 0);var _=n.ccclass,B=n.property;e("Accomplishment",(b=_("Accomplishment"),y=B(i),z=B(i),C=B(o),w=B(c),S=B(c),b((A=l((P=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,u(g(t),"accomplishment",void 0),u(g(t),"accomplishments",void 0),d(g(t),"generalFacts",A,g(t)),d(g(t),"achievements",T,g(t)),d(g(t),"accomplishmentPrefab",D,g(t)),d(g(t),"headingGeneralFacts",G,g(t)),d(g(t),"headingAchievements",H,g(t)),t}p(t,e);var n=t.prototype;return n.start=function(){this.accomplishments=f(v.getInstance().getGameType()),this.addAchievement(),this.updateHeadings()},n.addGeneralFacts=function(){var e,t,n,i=this;this.accomplishment=a(this.accomplishmentPrefab);var o=(null===(e=this.accomplishment.getComponent(s))||void 0===e?void 0:e.contentSize.height)*this.accomplishments.generalFacts.length,r=null===(t=this.accomplishment.getComponent(s))||void 0===t?void 0:t.contentSize.width;null===(n=this.generalFacts.getComponent(s))||void 0===n||n.setContentSize(new m(r,o)),this.accomplishments.generalFacts.forEach((function(e,t){var n;i.accomplishment=a(i.accomplishmentPrefab),i.accomplishment.getChildByName("Text").getComponent(c).string="Did you know "+e,i.accomplishment.position.y=1*(null===(n=i.accomplishment.getComponent(s))||void 0===n?void 0:n.contentSize.height)*t*-1,i.generalFacts.addChild(i.accomplishment)}))},n.addAchievement=function(){var e,t,n,i=this;this.accomplishment=a(this.accomplishmentPrefab);var o=(null===(e=this.accomplishment.getComponent(s))||void 0===e?void 0:e.contentSize.height)*this.accomplishments.achievements.length,r=null===(t=this.accomplishment.getComponent(s))||void 0===t?void 0:t.contentSize.width;null===(n=this.achievements.getComponent(s))||void 0===n||n.setContentSize(new m(r,o)),this.accomplishments.achievements.forEach((function(e,t){var n;i.accomplishment=a(i.accomplishmentPrefab),i.accomplishment.getChildByName("Text").getComponent(c).string="Did you know "+e,i.accomplishment.position.y=1*(null===(n=i.accomplishment.getComponent(s))||void 0===n?void 0:n.contentSize.height)*t*-1,i.achievements.addChild(i.accomplishment)}))},n.updateHeadings=function(){this.headingGeneralFacts.string=this.accomplishments.headings[0],this.headingAchievements.string=this.accomplishments.headings[1]},n.goToHomeScene=function(){r.loadScene("home")},n.onContinue=function(){this.goToHomeScene()},t}(h)).prototype,"generalFacts",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new i}}),T=l(P.prototype,"achievements",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new i}}),D=l(P.prototype,"accomplishmentPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new o}}),G=l(P.prototype,"headingGeneralFacts",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),H=l(P.prototype,"headingAchievements",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),F=P))||F));t._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceUtils.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var o,i,s,n,u,t;return{setters:[function(e){o=e.cclegacy,i=e._decorator,s=e.resources,n=e.error,u=e.Prefab},function(e){t=e.defineProperty}],execute:function(){var r,c,l;o._RF.push({},"65a25/GPX5H/ZxRifZGmsub","ResourceUtils",void 0);var a=i.ccclass;i.property,e("ResourceUtils",a("ResourceUtils")((l=c=function(){function e(){t(this,"_countAudioFiles",[]),t(this,"_countryAudioFiles",[]),t(this,"_VideosFiles",[]),t(this,"_musicClips",[]),t(this,"gameRresoucesIndex",0),t(this,"prefabs",["Education","Livelihood"]),t(this,"_gamesResources",{})}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var o=e.prototype;return o.loadNumberAudio=function(){var e=this;return new Promise((function(o,i){e._countAudioFiles.length>0?o(e._countAudioFiles):s.loadDir("Audio/Numbers",(function(s,u){s?(i(s),n("load audio files :"+s)):(console.log("audio files downlaoded",e._musicClips),e._countAudioFiles=u),o(e._countAudioFiles)}))}))},o.loadCountriesAudio=function(){var e=this;return new Promise((function(o,i){e._countryAudioFiles.length>0?o(e._countryAudioFiles):s.loadDir("Audio/Countries",(function(s,u){s?(i(s),n("load audio files :"+s)):(e._countryAudioFiles=u,console.log("audio his._countryAudioFiles  downlaoded",e._countryAudioFiles)),o(e._countryAudioFiles)}))}))},o.loadGameResources=function(e){var o=this;return new Promise((function(i,n){if(o._gamesResources[e])return i(o._gamesResources[e]);s.loadDir(e,(function(s,u){s?n(s):(o._gamesResources[e]=u,console.log("game resources",o._gamesResources)),i(o._gamesResources[e])}))}))},o.getAudioClip=function(e){if(this._countAudioFiles)return this._countAudioFiles.find((function(o){return o.name==e}))},o.getCountryClip=function(e){if(this._countryAudioFiles)return console.log("clip",e,this._countryAudioFiles),this._countryAudioFiles.find((function(o){return o.name==e}))||null},o.getGameResources=function(e,o){if(this._gamesResources[e])return this._gamesResources[e].find((function(e){return e.name==o}))||null},o.getGamePrefab=function(e){if(this._gamesResources[e]){var o=this._gamesResources[e];console.log("resource",o);var i=o.find((function(e){return e instanceof u}));return console.log("prefab",i),i||null}},e.loadRes=function(e,o,i){o?s.load(e,o,(function(e,o){if(e)return n(e.message||e),void(i&&i(e,o));i&&i(e,o)})):s.load(e,(function(e,o){if(e)return n(e.message||e),void(i&&i(e,o));i&&i(e,o)}))},e}(),t(c,"_instance",void 0),r=l))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/playerProfile.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts","./SoundManager.ts","./NetworkConfig.ts","./NetworkManager.ts","./userDetails.ts"],(function(e){"use strict";var r,t,a,n,i,o,l,s,c,u,p,f,y,g,d,m,b,h,P,L,N,E,w;return{setters:[function(e){r=e.cclegacy,t=e._decorator,a=e.Label,n=e.Sprite,i=e.Prefab,o=e.SpriteFrame,l=e.AudioClip,s=e.AudioSource,c=e.tween,u=e.director,p=e.Component},function(e){f=e.applyDecoratedDescriptor,y=e.inheritsLoose,g=e.defineProperty,d=e.assertThisInitialized,m=e.initializerDefineProperty},function(e){b=e.gameManager,h=e.SCENE_TYPE},function(e){P=e.SoundManager},function(e){L=e.API_END_POINTS,N=e.REQUEST_TYPE},function(e){E=e.NetworkManager},function(e){w=e.UserDetails}],execute:function(){var v,S,C,z,I,k,_,M,U,A,D,B,F,G,O,R,T,H,J,Y,j;r._RF.push({},"69d455f+lJHdaBUrfgbCkCY","playerProfile",void 0);var q=t.ccclass,x=t.property;e("PlayerProfile",(v=q("PlayerProfile"),S=x(a),C=x(a),z=x(a),I=x(a),k=x(n),_=x(i),M=x(i),U=x(o),A=x(l),v((F=f((B=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return r=e.call.apply(e,[this].concat(a))||this,g(d(r),"errorLayer",null),g(d(r),"loaderLayer",null),g(d(r),"loaderAction",null),m(d(r),"playerName",F,d(r)),m(d(r),"playerUserName",G,d(r)),m(d(r),"playerEmail",O,d(r)),m(d(r),"playerGender",R,d(r)),m(d(r),"playerProfilePic",T,d(r)),m(d(r),"errorPrefab",H,d(r)),m(d(r),"loaderPrefab",J,d(r)),m(d(r),"gender",Y,d(r)),m(d(r),"buttonClick",j,d(r)),r}y(r,e);var t=r.prototype;return t.start=function(){P.getInstance().init(this.node.getComponent(s));var e=w.getInstance().getUserDetails();this.playerName.string=e.firstName,this.playerEmail.string=e.email,this.playerUserName.string=e.username,this.playerGender.string=1==e.gender?"male":"female",this.playerProfilePic.spriteFrame=1==e.gender?this.gender[0]:this.gender[1]},t.getPlayerProfileData=function(){var e=this;this.startLoader(),E.getInstance().sendRequest(L.USER_PROFILE,N.GET,{},(function(r){e.stopLoader(),console.log(" on success data",r),r=JSON.parse(r),e.playerName.string=r.data.firstName+" "+r.data.lastName,e.playerUserName.string=r.data.userName,e.playerEmail.string=r.data.email,e.playerGender.string=0==r.data.gender?"Girl":"Boy"}),(function(r){e.stopLoader(),e.activeErrorLayer(JSON.parse(r).msg),console.log("on faiure data",r)}),!0)},t.activeErrorLayer=function(e){this.errorLayer.getChildByName("ErrorMsg").getComponent(a).string=e,this.errorLayer.active=!0},t.inActiveErrorLayer=function(){this.errorLayer.active=!1},t.startLoader=function(){this.loaderAction=c(this.loaderLayer.getChildByName("LoaderIcon")).by(.1,{angle:-40}).repeatForever().start(),this.loaderLayer.active=!0},t.stopLoader=function(){this.loaderLayer.active=!1,this.loaderAction.stop()},t.onBack=function(){P.getInstance().playSoundEffect(this.buttonClick),u.loadScene("home")},t.onLogout=function(){P.getInstance().playSoundEffect(this.buttonClick),sessionStorage.clear(),b.getInstance().setVoiceOverPlayed(h.HOME,!1),u.loadScene("login")},r}(p)).prototype,"playerName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),G=f(B.prototype,"playerUserName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),O=f(B.prototype,"playerEmail",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),R=f(B.prototype,"playerGender",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),T=f(B.prototype,"playerProfilePic",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new n}}),H=f(B.prototype,"errorPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=f(B.prototype,"loaderPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=f(B.prototype,"gender",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=f(B.prototype,"buttonClick",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=B))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./NetworkConfig.ts"],(function(e){"use strict";var t,n,s,a,r;return{setters:[function(e){t=e.cclegacy},function(e){n=e.defineProperty},function(e){s=e.DEPLOYMENT_MODE,a=e.BASE_ADDRESS,r=e.SERVER}],execute:function(){t._RF.push({},"7878bI8v2hBv4rFPsh7lzZS","NetworkManager",void 0);var o=e("NetworkManager",function(){function e(){n(this,"baseUrl","")}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var t=e.prototype;return t.init=function(e){switch(void 0===e&&(e=r),e){case s.LOCAL:this.baseUrl=a.LOCAL;break;case s.DEVELOPMENT:this.baseUrl=a.DEVELOPMENT;break;case s.PRODUCTION:this.baseUrl=a.PRODUCTION;break;case s.STAGING:this.baseUrl=a.STAGING}},t.sendRequest=function(e,t,n,s,a,r){void 0===r&&(r=!1);var o=new XMLHttpRequest,i=this.baseUrl+e;o.open(t,i),o.setRequestHeader("Content-Type","application/json"),console.log("token",localStorage.getItem("jwtToken")),r&&o.setRequestHeader("Authorization",sessionStorage.getItem("jwtToken")),o.onreadystatechange=function(){if(4===o.readyState&&o.status>=200&&o.status<300){var e=o.responseText;s(e)}else if(4===o.readyState&&o.status>=400&&o.status<500){var t=o.responseText;a(t)}},console.log("param",n),o.send(JSON.stringify(n))},e}());n(o,"_instance",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/factsPopUp.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts","./strings.ts"],(function(t){"use strict";var e,n,s,i,a,c,o,r,p,l,u;return{setters:[function(t){e=t.cclegacy,n=t._decorator,s=t.Label,i=t.Component},function(t){a=t.applyDecoratedDescriptor,c=t.inheritsLoose,o=t.defineProperty,r=t.assertThisInitialized,p=t.initializerDefineProperty},function(t){l=t.gameManager},function(t){u=t.getAccomplishments}],execute:function(){var h,m,g,f,d;t("FACT_NUMBER",void 0),e._RF.push({},"7da86S4Ye9DC4hndqaVPhf6","factsPopUp",void 0);var M,v=n.ccclass,y=n.property;!function(t){t[t.NUM1=1]="NUM1",t[t.NUM2=2]="NUM2",t[t.NUM3=3]="NUM3"}(M||(M=t("FACT_NUMBER",{})));t("FactsPopUp",(h=v("FactsPopUp"),m=y(s),h((d=a((f=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return e=t.call.apply(t,[this].concat(s))||this,o(r(e),"accomplishments",void 0),o(r(e),"accomplishmentCounter",-1),o(r(e),"_delagateScript",void 0),p(r(e),"message",d,r(e)),e}c(e,t);var n=e.prototype;return n.start=function(){},n.setDelegate=function(t){this._delagateScript=t},n.loadAccomplishments=function(){this.accomplishments=u(l.getInstance().getGameType()),console.log("Acc : "+this.accomplishments.generalFacts)},n.showFact=function(){this.accomplishmentCounter++,this.updateMessage("Did you know "+this.accomplishments.generalFacts[this.accomplishmentCounter]),this.node.active=!0},n.updateMessage=function(t){this.message.string=t},n.okButton=function(){switch(console.log("OK button "),this.node.active=!1,this.accomplishmentCounter){case 0:this._delagateScript.startTimer();break;case 1:this.showFact();break;case 2:this._delagateScript.changeScene()}},e}(i)).prototype,"message",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),g=f))||g));e._RF.pop()}}}));

System.register("chunks:///_virtual/forgotPassword.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./SoundManager.ts","./NetworkConfig.ts","./NetworkManager.ts"],(function(e){"use strict";var r,t,o,i,a,n,l,s,c,d,u,f,g,h,p,b,y,L,m,E,P,v;return{setters:[function(e){r=e.cclegacy,t=e._decorator,o=e.EditBox,i=e.Button,a=e.Prefab,n=e.AudioClip,l=e.AudioSource,s=e.instantiate,c=e.Label,d=e.director,u=e.tween,f=e.Component},function(e){g=e.applyDecoratedDescriptor,h=e.inheritsLoose,p=e.initializerDefineProperty,b=e.assertThisInitialized,y=e.defineProperty},function(e){L=e.SoundManager},function(e){m=e.SERVER,E=e.API_END_POINTS,P=e.REQUEST_TYPE},function(e){v=e.NetworkManager}],execute:function(){var C,S,B,N,w,I,V,x,A,O,k,F,R;r._RF.push({},"9ee65gYY0ZISoA+PwuDGZQW","forgotPassword",void 0);var T=t.ccclass,_=t.property;e("ForgotPassword",(C=T("ForgotPassword"),S=_({type:o,displayName:"Email Editbox"}),B=_({type:i,displayName:"Submit Button"}),N=_(a),w=_(a),I=_(n),C((A=g((x=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r=e.call.apply(e,[this].concat(o))||this,p(b(r),"emailEditBox",A,b(r)),p(b(r),"submitButton",O,b(r)),p(b(r),"errorPrefab",k,b(r)),p(b(r),"loaderPrefab",F,b(r)),p(b(r),"buttonClick",R,b(r)),y(b(r),"errorLayer",null),y(b(r),"errorLabel",null),y(b(r),"loaderLayer",null),y(b(r),"loaderAction",null),y(b(r),"fieldValidator",null),r}h(r,e);var t=r.prototype;return t.start=function(){L.getInstance().init(this.node.getComponent(l)),v.getInstance().init(m),this.emailEditBox?this.fieldValidator=this.emailEditBox.node.getComponent("FieldValidator"):console.error("Email edit box refrence is NULL"),this.errorPrefab?(this.errorLayer=s(this.errorPrefab),this.node.addChild(this.errorLayer),this.errorLayer.active=!1,this.errorLabel=this.errorLayer.getChildByName("ErrorMsg").getComponent(c)):console.error("Error prefab refrence is NULL"),this.loaderPrefab?(this.loaderLayer=s(this.loaderPrefab),this.node.addChild(this.loaderLayer),this.loaderLayer.active=!1):console.error("LoaderLayer prefab refrence is NULL")},t.SubmitButtonClicked=function(){var e=this,r=this.fieldValidator.doValidation(this.emailEditBox.string);if(!r.isValid)return this.errorLabel.string=r.message,void(this.errorLayer.active=!0);this.errorLayer.active=!1;try{this.startLoader(),v.getInstance().sendRequest(E.FORGET_PASSWORD,P.POST,{email:this.emailEditBox.string},(function(r){console.log("SUCCESS "+r);try{var t=JSON.parse(r);console.log(t.msg),e.errorLabel.string=t.msg,e.errorLayer.active=!0}catch(e){console.log("EXCEPTION ",e)}L.getInstance().playSoundEffect(e.buttonClick),e.stopLoader()}),(function(r){console.log("FAILURE "+r);try{var t=JSON.parse(r);console.log(t.msg),e.errorLabel.string=t.msg,e.errorLayer.active=!0}catch(e){console.log("EXCEPTION ",e)}e.stopLoader()}))}catch(e){console.log("EXCEPTION ",e),this.stopLoader()}},t.onEditingEnd=function(e){var r=e.node.getComponent("FieldValidator").doValidation(e.string);r.isValid||(this.errorLabel.string=r.message),this.errorLayer.active=!r.isValid},t.OnBackButtonPressed=function(){d.loadScene("login")},t.startLoader=function(){this.loaderAction=u(this.loaderLayer.getChildByName("LoaderIcon")).by(.1,{angle:-40}).repeatForever().start(),this.loaderLayer.active=!0},t.stopLoader=function(){this.loaderLayer.active=!1,this.loaderAction.stop()},r}(f)).prototype,"emailEditBox",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=g(x.prototype,"submitButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=g(x.prototype,"errorPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=g(x.prototype,"loaderPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=g(x.prototype,"buttonClick",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=x))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/education.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts","./strings.ts","./ResourceUtils.ts","./SoundManager.ts"],(function(e){"use strict";var t,n,i,o,a,r,s,c,u,l,p,d,m,h,g,f,v,b,y,I,P,C,U,D,O,T,w,E,N,R,S,A,F,B,L;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Sprite,o=e.Prefab,a=e.SpriteFrame,r=e.Node,s=e.Enum,c=e.AudioClip,u=e.Graphics,l=e.AudioSource,p=e.instantiate,d=e.UITransform,m=e.Vec3,h=e.Widget,g=e.v3,f=e.Label,v=e.tween,b=e.Intersection2D,y=e.director,I=e.Component},function(e){P=e.applyDecoratedDescriptor,C=e.inheritsLoose,U=e.defineProperty,D=e.assertThisInitialized,O=e.initializerDefineProperty},function(e){T=e.EDU_ITEM_TYPE,w=e.EDU_CONTAINER_TYPE,E=e.DonateableItem,N=e.gameManager,R=e.SCENE_TYPE,S=e.GAME_TYPE,A=e.IN_GAME_CURR_OP},function(e){F=e.getVoiceOvers},function(e){B=e.ResourceUtils},function(e){L=e.SoundManager}],execute:function(){var H,x,M,q,z,G,k,V,W,_,Y,Q,K,j,Z,J,X,$,ee,te,ne,ie,oe,ae,re,se,ce,ue,le,pe,de,me,he,ge,fe,ve,be,ye,Ie,Pe,Ce,Ue,De,Oe,Te;t._RF.push({},"a14e6313bBMxqwPSl7Z8QE/","education",void 0);var we=n.ccclass,Ee=n.property;e("Education",(H=we("Education"),x=Ee(i),M=Ee(i),q=Ee(i),z=Ee(o),G=Ee(o),k=Ee(o),V=Ee(o),W=Ee(o),_=Ee(o),Y=Ee(o),Q=Ee(o),K=Ee(o),j=Ee(o),Z=Ee(o),J=Ee(a),X=Ee(r),$=Ee({type:s(T)}),ee=Ee({type:s(w)}),te=Ee(c),ne=Ee(c),ie=Ee(u),H((re=P((ae=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,U(D(t),"HUDLayer",new r),U(D(t),"voiceOver",new r),U(D(t),"factsPopUp",new r),U(D(t),"touchRestriction",new r),U(D(t),"voiceOverData",void 0),U(D(t),"sideBarHeight",void 0),U(D(t),"donationToCountries",new Array),U(D(t),"totalRequestsAtTime",3),U(D(t),"gameSummary",new Array),U(D(t),"donateableItemsInfo",new Array),U(D(t),"donateableItems",new Array),U(D(t),"countries",new Array),U(D(t),"donationRequests",new Array),U(D(t),"dragable",new E),U(D(t),"dragableItemInitPos",void 0),U(D(t),"canDragItem",!1),U(D(t),"canUpdateDragableItemData",!0),U(D(t),"requestFrom",w.NONE),U(D(t),"requestedFor",T.NONE),U(D(t),"pausePopUp",null),U(D(t),"gereranlFactsLayer",null),O(D(t),"map",re,D(t)),O(D(t),"bg",se,D(t)),O(D(t),"sideBar",ce,D(t)),O(D(t),"voiceOverPrefab",ue,D(t)),O(D(t),"touchRestrictionPrefab",le,D(t)),O(D(t),"HUDLayerPrefab",pe,D(t)),O(D(t),"itemPrefab",de,D(t)),O(D(t),"itemInHandPrefab",me,D(t)),O(D(t),"dragableItemPrefab",he,D(t)),O(D(t),"weNeedPopUpPrefab",ge,D(t)),O(D(t),"errorPopUpPrefab",fe,D(t)),O(D(t),"factsPopUpPrefab",ve,D(t)),O(D(t),"gerenalFacts",be,D(t)),O(D(t),"pausePopUpPrefab",ye,D(t)),O(D(t),"itemFrames",Ie,D(t)),O(D(t),"containerItemsNode",Pe,D(t)),O(D(t),"itemType",Ce,D(t)),O(D(t),"containerType",Ue,D(t)),U(D(t),"counteriesRequesting",new Array),U(D(t),"counteriesRequestingFor",new Array),O(D(t),"donationDone",De,D(t)),O(D(t),"buttonClick",Oe,D(t)),O(D(t),"graphics2",Te,D(t)),t}C(t,e);var n=t.prototype;return n.start=function(){L.getInstance().init(this.node.getComponent(l)),N.getInstance().setSceneType(R.GAME),N.getInstance().setGameType(S.EDUCATION),this.donateableItemsInfo=N.getInstance().getGameItems(S.EDUCATION),N.getInstance().incrementUserHearts(N.getInstance().getGameTimeHeart(N.getInstance().getGameType()).hearts),this.HUDLayer=p(this.HUDLayerPrefab),this.node.addChild(this.HUDLayer),this.HUDLayer.getComponent("HUDLayer").setDelegate(this),this.dragable.item=p(this.dragableItemPrefab),this.bg.node.addChild(this.dragable.item),this.dragable.item.active=!1,this.setUpDonateableItems(),this.setUpCountries(),this.touchEvents(),this.createVoiceOver(),this.addTouchRestriction(),this.addPausePopUp(),this.setUpFactsPopUp(),this.gereranlFactsLayer=p(this.gerenalFacts),this.gereranlFactsLayer.getComponent("GeneralFacts").setDelegate(this),this.gereranlFactsLayer.getComponent("GeneralFacts").setUpQuestioniers(),this.gereranlFactsLayer.setSiblingIndex(10),this.gereranlFactsLayer.active=!1,this.node.addChild(this.gereranlFactsLayer),this.runTutorial()},n.setUpFactsPopUp=function(){this.factsPopUp=p(this.factsPopUpPrefab),this.bg.node.addChild(this.factsPopUp);var e=this.factsPopUp.getComponent("FactsPopUp");e.loadAccomplishments(),e.setDelegate(this),this.factsPopUp.active=!1},n.showFactsPopUp=function(){this.pauseTimer(),this.factsPopUp.getComponent("FactsPopUp").showFact()},n.addRequest=function(){var e=this,t=this.containerType.filter((function(t){return!e.counteriesRequesting.includes(t)})),n=t[Math.floor(Math.random()*t.length)];this.counteriesRequesting.push(n);var i=this.itemType.filter((function(t){return!e.counteriesRequestingFor.includes(t)})),o=i[Math.floor(Math.random()*i.length)];this.counteriesRequestingFor.push(o),this.donationRequests.push({from:n,for:o}),this.addWeNeedPopUp(n,o)},n.createVoiceOver=function(){this.voiceOver=p(this.voiceOverPrefab),this.bg.node.addChild(this.voiceOver),this.voiceOver.active=!1,this.voiceOverData=F(N.getInstance().getGameType())},n.addTouchRestriction=function(){this.touchRestriction=p(this.touchRestrictionPrefab),this.node.addChild(this.touchRestriction),this.touchRestriction.setSiblingIndex(10)},n.startTimer=function(){for(var e=0;e<this.totalRequestsAtTime;e++)this.addRequest();this.HUDLayer.getComponent("HUDLayer").startTimer()},n.pauseTimer=function(){this.HUDLayer.getComponent("HUDLayer").pauseTimer()},n.resumeTimer=function(){this.HUDLayer.getComponent("HUDLayer").resumeTimer()},n.setUpDonateableItems=function(){var e,t=this;this.sideBarHeight=null===(e=this.sideBar.getComponent(d))||void 0===e?void 0:e.contentSize.height,this.itemFrames.forEach((function(e,n,i){var o,a=t.donateableItemsInfo.find((function(e){return e.type===t.itemType[n]})),r=p(t.itemPrefab),s=r.getComponent("Item");s.setDelegate(t),s.upateItemData(a,e);var c=t.sideBarHeight/i.length*(n+.5),u=t.sideBarHeight/(i.length+1.5)*.8/(null===(o=r.getComponent(d))||void 0===o?void 0:o.contentSize.height);r.setScale(new m(u,u,u)),r.position.y=c,t.sideBar.node.addChild(r),t.donateableItems.push({type:a.type,donationTo:w.NONE,item:r,price:a.price,name:a.name})}))},n.setUpCountries=function(){var e=this;this.containerItemsNode.forEach((function(t,n,i){e.countries.push({type:e.containerType[n],requiredItem:T.NONE,item:t,donationInfo:[]})}))},n.touchEvents=function(){this.node.on(r.EventType.TOUCH_START,this.itemTouchStartCallback,this),this.node.on(r.EventType.TOUCH_MOVE,this.itemTouchMoveCallback,this),this.node.on(r.EventType.TOUCH_END,this.itemTouchEndCallback,this),this.node.on(r.EventType.TOUCH_CANCEL,this.itemTouchEndCallback,this)},n.itemTouchStartCallback=function(e){var t;null===(t=this.sideBar.getComponent(h))||void 0===t||t.updateAlignment();var n=e.getUILocation();if(this.canUpdateDragableItemData)for(var i=0;i<this.donateableItems.length;i++){var o;if(null===(o=this.donateableItems[i].item.getComponent(d))||void 0===o?void 0:o.getBoundingBoxToWorld().contains(g(n.x,n.y,0))){this.updateDragableItemData(this.donateableItems[i],g(n.x,n.y,0));break}}},n.updateDragableItemData=function(e,t){var n;this.canUpdateDragableItemData=!1,this.dragable.item.getComponent(i).spriteFrame=e.item.getComponent("Item").getItemImage(),this.dragable.item.setScale(e.item.getComponent("Item").getItemImageScale()),this.dragable.item.position=null===(n=this.bg.getComponent(d))||void 0===n?void 0:n.convertToNodeSpaceAR(t),this.dragableItemInitPos=t,this.dragable.type=e.type,this.dragable.price=e.price,this.dragable.name=e.name,this.canDragItem=!0,this.dragable.item.active=!0},n.resetDragableItemData=function(){this.canDragItem=!1,this.dragable.item.active=!1,this.dragable.donationTo=w.NONE,this.dragable.price=0,this.dragable.name="",this.dragable.type=T.NONE,this.canUpdateDragableItemData=!0},n.addWeNeedPopUp=function(e,t){var n,o,a,r,s=null===(n=this.countries.find((function(t){return t.type===e})))||void 0===n?void 0:n.item,c=(null===(o=this.donateableItems.find((function(e){return e.type===t})))||void 0===o?void 0:o.item).getComponent("Item").getItemImage(),u=p(this.weNeedPopUpPrefab);(null===(a=u.getChildByName("item"))||void 0===a?void 0:a.getComponent(i)).spriteFrame=c,(null===(r=u.getChildByName("text"))||void 0===r?void 0:r.getComponent(f)).string="We need "+this.getItemNameForWeNeed(t),u.position=new m(0,0,0),s.addChild(u)},n.itemTouchMoveCallback=function(e){var t=e.getUILocation();if(this.canDragItem){var n,i=null===(n=this.bg.getComponent(d))||void 0===n?void 0:n.convertToNodeSpaceAR(g(t.x,t.y,0));this.dragable.item.position=i}},n.itemTouchEndCallback=function(e){var t=this;e.getStartLocation();if(this.canDragItem){var n=this.donationRequests.find((function(e){return e.for===t.dragable.type})),i=this.countries.find((function(e){return e.type===(null==n?void 0:n.from)})),o=null==i?void 0:i.item;if(this.checkDragableIntersectWith(o)){var a=this.HUDLayer.getComponent("HUDLayer"),r=a.updateHearts(A.DECREASE,this.dragable.price);if(""!==r.error)this.putDragableItemBack(),"Not enought hearts to buy particular Item."==r.error&&this.showErrorPopUp(String("Not enought hearts to donate "+this.getItemNameForWeNeed(this.dragable.type)));else{var s,c;L.getInstance().playSoundEffect(this.donationDone);var u,l=null==i||null===(s=i.donationInfo)||void 0===s?void 0:s.find((function(e){return e.type==t.dragable.type}));if(l)l.count++;else null==i||null===(u=i.donationInfo)||void 0===u||u.push({type:this.dragable.type,count:1});null===(c=o.getChildByName("weNeedPopUp"))||void 0===c||c.removeFromParent(),this.createNewRequest(n),this.resetDragableItemData(),r.gameover&&(a.pauseTimer(),this.noMoreHeartsLeft())}}else this.putDragableItemBack()}},n.showErrorPopUp=function(e){var t,n=p(this.errorPopUpPrefab);(null===(t=n.getChildByName("message"))||void 0===t?void 0:t.getComponent(f)).string=e,this.bg.node.addChild(n),v(this.node).delay(2).call((function(){n.removeFromParent()})).start()},n.createNewRequest=function(e){this.counteriesRequestingFor.splice(this.counteriesRequestingFor.indexOf(null==e?void 0:e.for),1),this.counteriesRequesting.splice(this.counteriesRequesting.indexOf(null==e?void 0:e.from),1),this.donationRequests.splice(this.donationRequests.indexOf(e),1),this.addRequest()},n.putDragableItemBack=function(){var e,t=this;this.canDragItem=!1;var n=null===(e=this.bg.getComponent(d))||void 0===e?void 0:e.convertToNodeSpaceAR(g(this.dragableItemInitPos.x,this.dragableItemInitPos.y,0));v(this.dragable.item).to(.2,{position:n}).call((function(){t.resetDragableItemData()})).start()},n.checkDragableIntersectExcept=function(e){for(var t,n=null===(t=this.dragable.item.getComponent(d))||void 0===t?void 0:t.getBoundingBoxToWorld(),i=0;i<this.countries.length;i++)if(this.countries[i].type!==e){var o,a=null===(o=this.countries[i].item.getComponent(d))||void 0===o?void 0:o.getBoundingBoxToWorld();if(b.rectRect(a,n))return!0}return!1},n.checkDragableIntersectWith=function(e){var t,n;return!(!e||!this.dragable.item)&&b.rectRect(null===(t=e.getComponent(d))||void 0===t?void 0:t.getBoundingBoxToWorld(),null===(n=this.dragable.item.getComponent(d))||void 0===n?void 0:n.getBoundingBoxToWorld())},n.timePaused=function(){this.touchRestriction.active=!0,this.showPausePopUp(!0)},n.timeRunning=function(){this.touchRestriction.active=!1},n.timeOver=function(){this.touchRestriction.active=!0,this.createSummary(),this.gameOver()},n.noMoreHeartsLeft=function(){this.touchRestriction.active=!0,this.createSummary(),this.gameOver()},n.onItemButtonClick=function(){},n.gameOver=function(){var e=this;this.touchRestriction.active=!0;var t="";this.donationToCountries.forEach((function(e,n,i){t+=e,n+1<i.length&&(t+=", ")}));var n=this.HUDLayer.getComponent("HUDLayer").getHeartsConsumed(),i=n<100?[n]:[100*Math.floor(n/100),n%100],o=i.map((function(e){return B.getInstance().getAudioClip(e)})).filter((function(e){return null!=e})),a=o.map((function(e){return null==e?void 0:e.getDuration()})).reduce((function(e,t){return e+t}),0),r=this.donationToCountries.map((function(e){return B.getInstance().getCountryClip(e)})),s=r.map((function(e){return null==e?void 0:e.getDuration()})).reduce((function(e,t){return e+t}),0);console.log({waitAfterAmount:a,waitTime:s}),i[0]>0?v(this.node).call((function(){var i=e.voiceOverData.end;i=(i=i.replace("xxx",String(n))).replace("yyy",t),e.updateVoiceOverMessage(i),e.voiceOver.active=!0;var a=B.getInstance().getAudioClip("your");L.getInstance().playSoundEffect(a),e.playAudios(0,o)})).delay(a).call((function(){var e=B.getInstance().getAudioClip("advancement");L.getInstance().playSoundEffect(e)})).delay(3).call((function(){e.playAudios(0,r)})).delay(s).call((function(){var e=B.getInstance().getAudioClip("wellDone");L.getInstance().playSoundEffect(e)})).delay(3).call((function(){e.voiceOver.active=!1,e.showFactsPopUp()})).start():this.changeScene()},n.changeScene=function(){this.HUDLayer.getComponent("HUDLayer").getHeartsConsumed()>0?y.loadScene("gameSummary"):y.loadScene("accomplishment")},n.createSummary=function(){var e=this;this.countries.forEach((function(t){var n,i=e.getCountyName(t.type),o="Donated ";t.donationInfo.forEach((function(t,n,i){o=t.count>1?o+" "+t.count+" "+e.getItemNameForSummary(t.type)+"s":o+" "+t.count+" "+e.getItemNameForSummary(t.type),n+1<i.length&&(o+=",")})),o=o+" to "+i,(null===(n=t.donationInfo)||void 0===n?void 0:n.length)>0&&(e.gameSummary.push(o),e.donationToCountries.push(i))})),N.getInstance().setGameSummary(this.gameSummary)},n.getCountyName=function(e){switch(e){case w.ALGERIA:return"Algeria";case w.EGYPT:return"Egypt";case w.IRAQ:return"Iraq";case w.LIBYA:return"Libya";case w.MORROCO:return"Morroco";case w.OMAN:return"Oman";case w.SAUDIARABIA:return"Saudi Arabia";case w.SYRIA:return"Syria";case w.UAE:return"UAE";case w.YEMEN:return"Yemen";case w.PALESTINE:return"Palestine";case w.PAKISTAN:return"Pakistan";case w.INDIA:return"India"}},n.getItemNameForSummary=function(e){switch(e){case T.BOOK:return"book";case T.COMPUTER:return"computer";case T.FURNITURE:return"furniture";case T.SCHOOL:return"school"}},n.getItemNameForWeNeed=function(e){switch(e){case T.BOOK:return"books";case T.COMPUTER:return"computers";case T.FURNITURE:return"furniture";case T.SCHOOL:return"schools"}},n.getPositionOnBG=function(e){var t,n,i=null===(t=e.getComponent(d))||void 0===t?void 0:t.getBoundingBoxToWorld();return null===(n=this.bg.getComponent(d))||void 0===n?void 0:n.convertToNodeSpaceAR(g(i.x+.5*i.width,i.y+.5*i.height,0))},n.getDonatbleItemPositionOnBG=function(e){var t,n,i=null===(t=e.getComponent(d))||void 0===t?void 0:t.getBoundingBoxToWorld();return null===(n=this.bg.getComponent(d))||void 0===n?void 0:n.convertToNodeSpaceAR(g(i.x+4*i.width,i.y,0))},n.runTutorial=function(){var e=this;this.addWeNeedPopUp(this.countries[0].type,this.donateableItems[0].type),this.addWeNeedPopUp(this.countries[2].type,this.donateableItems[1].type),this.addWeNeedPopUp(this.countries[4].type,this.donateableItems[2].type);var t=p(this.itemInHandPrefab);this.node.addChild(t),t.active=!1;var n=this.getDonatbleItemPositionOnBG(this.donateableItems[0].item.getChildByName("itemImage")),o=this.getPositionOnBG(this.countries[0].item),a=this.donateableItems[0].item.getComponent("Item").getItemImage(),r=this.getDonatbleItemPositionOnBG(this.donateableItems[1].item.getChildByName("itemImage")),s=this.getPositionOnBG(this.countries[2].item),c=this.donateableItems[1].item.getComponent("Item").getItemImage(),u=this.getDonatbleItemPositionOnBG(this.donateableItems[2].item.getChildByName("itemImage")),d=this.getPositionOnBG(this.countries[4].item),h=this.donateableItems[2].item.getComponent("Item").getItemImage();v(t).call((function(){e.updateVoiceOverMessage(e.voiceOverData.introduction),e.voiceOver.active=!0;var t=B.getInstance().getGameResources("Education","Vo1");t&&L.getInstance().playSoundEffect(t)})).delay(7).call((function(){e.voiceOver.active=!1,t.active=!0,t.getComponent(i).spriteFrame=a})).to(0,{position:new m(n.x,n.y,0)}).to(2,{position:new m(o.x,o.y,0)}).call((function(){var n;null===(n=e.countries[0].item.getChildByName("weNeedPopUp"))||void 0===n||n.removeFromParent(),L.getInstance().playSoundEffect(e.donationDone),t.getComponent(i).spriteFrame=c})).to(0,{position:new m(r.x,r.y,0)}).to(2,{position:new m(s.x,s.y,0)}).call((function(){var n;null===(n=e.countries[2].item.getChildByName("weNeedPopUp"))||void 0===n||n.removeFromParent(),L.getInstance().playSoundEffect(e.donationDone),t.getComponent(i).spriteFrame=h})).to(0,{position:new m(u.x,u.y,0)}).to(2,{position:new m(d.x,d.y,0)}).call((function(){var n;null===(n=e.countries[4].item.getChildByName("weNeedPopUp"))||void 0===n||n.removeFromParent(),L.getInstance().playSoundEffect(e.donationDone),t.active=!1,e.updateVoiceOverMessage(e.voiceOverData.tutorial);var i=B.getInstance().getGameResources("Education","Vo2");i&&L.getInstance().playSoundEffect(i),e.voiceOver.active=!0})).delay(11).call((function(){e.InactiveActivePopUp(!1);var t=B.getInstance().getAudioClip("countdown");t&&L.getInstance().playSoundEffect(t)})).delay(1.5).call((function(){e.updateVoiceOverCountDown("3")})).delay(.8).call((function(){e.updateVoiceOverCountDown("2")})).delay(.8).call((function(){e.updateVoiceOverCountDown("1")})).delay(.8).call((function(){e.updateVoiceOverCountDown("GO!")})).delay(1).call((function(){e.InactiveActivePopUp(!0),e.voiceOver.active=!1,e.showFactsPopUp();var t=B.getInstance().getGameResources("Education","music");t&&(e.node.getComponent(l).clip=t,L.getInstance().playMusic(!0))})).start()},n.updateVoiceOverMessage=function(e){this.voiceOver.getComponent("VoiceOver").updateMessage(e)},n.InactiveActivePopUp=function(e){this.voiceOver.getComponent("VoiceOver").InactiveActivePopUp(e)},n.updateVoiceOverCountDown=function(e){this.voiceOver.getComponent("VoiceOver").updateCountDown(e)},n.addPausePopUp=function(){var e;this.pausePopUp=p(this.pausePopUpPrefab),null===(e=this.pausePopUp.getComponent("Popup"))||void 0===e||e.init(this),this.node.addChild(this.pausePopUp),this.node.setSiblingIndex(10),this.pausePopUp.active=!1},n.onReload=function(){y.loadScene("education")},n.onResume=function(){this.HUDLayer.getComponent("HUDLayer").resumeTimer(),this.timeRunning(),this.pausePopUp.active=!1},n.showPausePopUp=function(e){this.pausePopUp.getComponent("Popup").changeButtonState(e),this.pausePopUp.active=!0},n.onDestroy=function(){L.getInstance().stopMusic()},n.playAudios=function(e,t){var n=this;if(console.log("play Audiop",e,t),!(e>=t.length||0==t.length)){var i=t[e].getDuration();console.log("play next clip",e,i),v(this.node).call((function(){return L.getInstance().playSoundEffect(t[e])})).delay(i).call((function(){return n.playAudios(e+1,t)})).start()}},n.startQuiz=function(){console.log("inside this start quiz",this.gereranlFactsLayer),this.gereranlFactsLayer.active=!0},n.onFactEnd=function(){this.gereranlFactsLayer.active=!1,this.onResume()},t}(I)).prototype,"map",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new i}}),se=P(ae.prototype,"bg",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new i}}),ce=P(ae.prototype,"sideBar",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new i}}),ue=P(ae.prototype,"voiceOverPrefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=P(ae.prototype,"touchRestrictionPrefab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=P(ae.prototype,"HUDLayerPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=P(ae.prototype,"itemPrefab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=P(ae.prototype,"itemInHandPrefab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=P(ae.prototype,"dragableItemPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=P(ae.prototype,"weNeedPopUpPrefab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=P(ae.prototype,"errorPopUpPrefab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=P(ae.prototype,"factsPopUpPrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=P(ae.prototype,"gerenalFacts",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=P(ae.prototype,"pausePopUpPrefab",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=P(ae.prototype,"itemFrames",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pe=P(ae.prototype,"containerItemsNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ce=P(ae.prototype,"itemType",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ue=P(ae.prototype,"containerType",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),De=P(ae.prototype,"donationDone",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=P(ae.prototype,"buttonClick",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=P(ae.prototype,"graphics2",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=ae))||oe));t._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkConfig.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"a1d97P0N49OwY8958lQEq/r","NetworkConfig",void 0);t("API_END_POINTS",{LOG_IN:"v1/user/login",FORGET_PASSWORD:"v1/user/forgot-password",RESET_PASSWORD:"v1/user/reset-password",REGISTER:"v1/user/register",USER_PROFILE:"v1/user/get-profile",UPDATE_PROFILE:"v1/user/update-profile"});var e=t("DEPLOYMENT_MODE",{LOCAL:0,DEVELOPMENT:1,STAGING:2,PRODUCTION:3});t("SERVER",e.STAGING),t("REQUEST_TYPE",{GET:"get",POST:"post",PUT:"put"}),t("BASE_ADDRESS",{LOCAL:"http://b37a4c250714.ngrok.io/",DEVELOPMENT:"http://b37a4c250714.ngrok.io/",STAGING:"https://bigheart.staging.chicmic.co.in/",PRODUCTION:"http://b37a4c250714.ngrok.io/"});r._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(o){"use strict";var n,u,t;return{setters:[function(o){n=o.cclegacy,u=o.assert},function(o){t=o.defineProperty}],execute:function(){n._RF.push({},"ad169kdR+pFS77SWoZ6328C","SoundManager",void 0);var i=o("SoundManager",function(){function o(){t(this,"_audioSource",null)}o.getInstance=function(){return o._instance||(o._instance=new o),o._instance};var n=o.prototype;return n.init=function(o){this._audioSource=o,console.log("audio source",this._audioSource)},n.playSoundEffect=function(o){console.log("clip",o.name),o?this._audioSource.playOneShot(o,1):u(o,"Invalid audio clip format")},n.stopSoundEffect=function(){this._audioSource.stop(),console.log("stop sound",this._audioSource)},n.setEffectVolume=function(){},n.playMusic=function(o){this._audioSource.loop=o,console.log(" this._audioSource.play()"),this._audioSource.playing||this._audioSource.play()},n.stopMusic=function(){this._audioSource.stop()},o}());t(i,"_instance",null),n._RF.pop()}}}));

System.register("chunks:///_virtual/gameSummary.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts"],(function(e){"use strict";var t,n,i,a,o,r,m,c,s,u,l,h,p,g,d,y;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Node,a=e.Prefab,o=e.Label,r=e.instantiate,m=e.UITransform,c=e.Size,s=e.director,u=e.Component},function(e){l=e.applyDecoratedDescriptor,h=e.inheritsLoose,p=e.defineProperty,g=e.assertThisInitialized,d=e.initializerDefineProperty},function(e){y=e.gameManager}],execute:function(){var f,v,S,b,w,z,C,P,A;t._RF.push({},"b39eaL5z/pAkK4P08MdU42N","gameSummary",void 0);var G=n.ccclass,_=n.property;e("GameSummary",(f=G("GameSummary"),v=_(i),S=_(a),b=_(o),f((C=l((z=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,p(g(t),"accomplishment",void 0),p(g(t),"gameSummary",new Array),d(g(t),"summary",C,g(t)),d(g(t),"accomplishmentPrefab",P,g(t)),d(g(t),"heading",A,g(t)),t}h(t,e);var n=t.prototype;return n.start=function(){this.gameSummary=y.getInstance().getGameSummary(),this.addGameSummary(),this.upateHeading()},n.addGameSummary=function(){var e,t,n,i=this;this.accomplishment=r(this.accomplishmentPrefab);var a=(null===(e=this.accomplishment.getComponent(m))||void 0===e?void 0:e.contentSize.height)*this.gameSummary.length,s=null===(t=this.accomplishment.getComponent(m))||void 0===t?void 0:t.contentSize.width;null===(n=this.summary.getComponent(m))||void 0===n||n.setContentSize(new c(s,a)),this.gameSummary.forEach((function(e,t){var n;i.accomplishment=r(i.accomplishmentPrefab),i.accomplishment.getChildByName("Text").getComponent(o).string=e,i.accomplishment.position.y=1*(null===(n=i.accomplishment.getComponent(m))||void 0===n?void 0:n.contentSize.height)*t*-1,i.summary.addChild(i.accomplishment)}))},n.upateHeading=function(){this.heading.string="Your Accomplishments"},n.showAccomplishments=function(){s.loadScene("accomplishment")},n.onContinue=function(){this.showAccomplishments()},t}(u)).prototype,"summary",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new i}}),P=l(z.prototype,"accomplishmentPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),A=l(z.prototype,"heading",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new o}}),w=z))||w));t._RF.pop()}}}));

System.register("chunks:///_virtual/gameManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,n,i;return{setters:[function(e){t=e.cclegacy,n=e.color},function(e){i=e.defineProperty}],execute:function(){var o,r,a;e({EDU_CONTAINER_TYPE:void 0,EDU_ITEM_TYPE:void 0,GAME_TYPE:void 0,IN_GAME_CURR_OP:void 0,LIVLI_CONTAINER_TYPE:void 0,LIVLI_ITEM_TYPE:void 0,SCENE_TYPE:void 0,randomEnum:function(e){var t=Object.values(e).map((function(e){return+e})).filter((function(e){return!Number.isNaN(e)})),n=Math.floor(Math.random()*t.length);return t[n]}}),t._RF.push({},"c37f1P5veRC7a4Clb5a8wQ5","gameManager",void 0),function(e){e[e.NONE=0]="NONE",e[e.HOME=1]="HOME",e[e.GAME=2]="GAME"}(o||(o=e("SCENE_TYPE",{}))),function(e){e[e.NONE=0]="NONE",e[e.EDUCATION=1]="EDUCATION",e[e.LIVLIHOOD=2]="LIVLIHOOD",e[e.RELIEF=3]="RELIEF",e[e.HEALTHCARE=4]="HEALTHCARE",e[e.HOME=5]="HOME"}(r||(r=e("GAME_TYPE",{}))),function(e){e[e.INCRESE=1]="INCRESE",e[e.DECREASE=2]="DECREASE",e[e.RESET=3]="RESET"}(a||(a=e("IN_GAME_CURR_OP",{})));var E,c,s,u,O=e("gameManager",function(){function e(){i(this,"sceneType",0),i(this,"gameType",0),i(this,"gameSummary",new Array),i(this,"isHomeVoPlayed",!1),i(this,"isPopUpShown",!1),i(this,"userHeartCount",0)}var t=e.prototype;return t.gameManager=function(){this.sceneType=o.NONE,this.gameType=r.NONE},e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},t.setGameSummary=function(e){this.gameSummary=e},t.getGameSummary=function(){return this.gameSummary},t.getGameType=function(){return this.gameType},t.setGameType=function(e){this.gameType=e},t.getSceneType=function(){return this.sceneType},t.setSceneType=function(e){this.sceneType=e},t.getGameTimeHeart=function(e){var t=0,n=0;switch(e){case r.EDUCATION:case r.LIVLIHOOD:case r.RELIEF:t=60,n=1e3;break;case r.HEALTHCARE:t=120,n=1e3;break;default:t=60,n=1e3}return{seconds:t,hearts:n}},t.getGameItems=function(e){switch(e){case r.EDUCATION:return[{name:"Buy Books, Stationary",price:10,type:c.BOOK},{name:"Provide Computers",price:20,type:c.COMPUTER},{name:"Provide A School Furniture",price:20,type:c.FURNITURE},{name:"Build A School",price:300,type:c.SCHOOL}];case r.LIVLIHOOD:return[{name:"Food",price:30,type:u.FOOD,color:n(251,0,7,255)},{name:"Water",price:30,type:u.WATER,color:n(50,151,191,255)},{name:"Clothes",price:30,type:u.CLOTHES,color:n(28,152,14,255)}];case r.RELIEF:return[{name:"abc",price:0},{name:"abc",price:0},{name:"abc",price:0},{name:"abc",price:0}];case r.HEALTHCARE:return[{name:"Curtain",price:20},{name:"Monitor",price:20},{name:"Chair",price:10},{name:"Clock",price:10},{name:"Plant",price:50},{name:"Bed",price:200},{name:"Xray",price:150}];default:return[]}},t.isVoiceOverPlayer=function(e){switch(e){case o.HOME:return this.isHomeVoPlayed;case o.GAME:}},t.setVoiceOverPlayed=function(e,t){switch(e){case o.HOME:this.isHomeVoPlayed=t,console.log("don't play voice over again");break;case o.GAME:}},t.incrementUserHearts=function(e){this.userHeartCount+=e},t.setuserHeartCount=function(e){this.userHeartCount=e},t.getuserHeartCount=function(){return this.userHeartCount},t.doNeedWelcomePopUp=function(){return this.isPopUpShown},t.doNeedtoShowWelcomePopUp=function(e){this.isPopUpShown=e},e}());i(O,"_instance",void 0),function(e){e[e.NONE=0]="NONE",e[e.MORROCO=1]="MORROCO",e[e.ALGERIA=2]="ALGERIA",e[e.LIBYA=3]="LIBYA",e[e.EGYPT=4]="EGYPT",e[e.SYRIA=5]="SYRIA",e[e.IRAQ=6]="IRAQ",e[e.SAUDIARABIA=7]="SAUDIARABIA",e[e.UAE=8]="UAE",e[e.OMAN=9]="OMAN",e[e.YEMEN=10]="YEMEN",e[e.PALESTINE=11]="PALESTINE",e[e.PAKISTAN=12]="PAKISTAN",e[e.INDIA=13]="INDIA"}(E||(E=e("EDU_CONTAINER_TYPE",{}))),function(e){e[e.NONE=0]="NONE",e[e.BOOK=1]="BOOK",e[e.COMPUTER=2]="COMPUTER",e[e.FURNITURE=3]="FURNITURE",e[e.SCHOOL=4]="SCHOOL"}(c||(c=e("EDU_ITEM_TYPE",{}))),function(e){e[e.NONE=0]="NONE",e[e.FOOD_TRUCK=1]="FOOD_TRUCK",e[e.WATER_TRUCK=2]="WATER_TRUCK",e[e.CLOTHES_TRUCK=3]="CLOTHES_TRUCK"}(s||(s=e("LIVLI_CONTAINER_TYPE",{}))),function(e){e[e.NONE=0]="NONE",e[e.FOOD=1]="FOOD",e[e.WATER=2]="WATER",e[e.CLOTHES=3]="CLOTHES"}(u||(u=e("LIVLI_ITEM_TYPE",{})));e("DonateableItem",(function(){i(this,"type",void 0),i(this,"donationTo",void 0),i(this,"item",void 0),i(this,"price",void 0),i(this,"name",void 0)})),e("ContainerItem",(function(){i(this,"type",void 0),i(this,"requiredItem",void 0),i(this,"item",void 0),i(this,"itemCount",void 0),i(this,"name",void 0)}));t._RF.pop()}}}));

System.register("chunks:///_virtual/about.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts","./SoundManager.ts"],(function(e){"use strict";var t,o,n,i,c,a,r,l,u,s,p,d,g;return{setters:[function(e){t=e.cclegacy,o=e._decorator,n=e.Node,i=e.AudioClip,c=e.AudioSource,a=e.director,r=e.Component},function(e){l=e.applyDecoratedDescriptor,u=e.inheritsLoose,s=e.initializerDefineProperty,p=e.assertThisInitialized},function(e){d=e.gameManager},function(e){g=e.SoundManager}],execute:function(){var f,m,h,b,y,C,w;t._RF.push({},"ddd0eQl3zdCprNnlSphCwwr","about",void 0);var v=o.ccclass,U=o.property;e("About",(f=v("About"),m=U(n),h=U(i),f((C=l((y=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,s(p(t),"welcomeBack",C,p(t)),s(p(t),"buttonClick",w,p(t)),t}u(t,e);var o=t.prototype;return o.start=function(){console.log("gameManager.getInstance().doNeedWelcomePopUp()",d.getInstance().doNeedWelcomePopUp()),g.getInstance().init(this.node.getComponent(c)),d.getInstance().doNeedWelcomePopUp()&&this.showWelComePopUp(),!d.getInstance().doNeedWelcomePopUp()&&this.playAboutUs()},o.onContinue=function(){var e;null===(e=this.node.getComponent(c))||void 0===e||e.stop(),a.loadScene("home")},o.onButtonClick=function(){g.getInstance().playSoundEffect(this.buttonClick),this.welcomeBack.active=!1,d.getInstance().doNeedtoShowWelcomePopUp(!1),this.playAboutUs()},o.showWelComePopUp=function(){this.welcomeBack.active=!0},o.playAboutUs=function(){g.getInstance().playMusic(!1)},t}(r)).prototype,"welcomeBack",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=l(y.prototype,"buttonClick",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=y))||b));t._RF.pop()}}}));

System.register("chunks:///_virtual/healthcare.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts"],(function(e){"use strict";var t,i,n,a,o,r,l,s,c,m,g,h,u,d,p,b,f,I,v,C,y;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.Sprite,a=e.Prefab,o=e.SpriteFrame,r=e.instantiate,l=e.UITransform,s=e.Vec3,c=e.Node,m=e.v3,g=e.v2,h=e.Intersection2D,u=e.Component},function(e){d=e.applyDecoratedDescriptor,p=e.inheritsLoose,b=e.defineProperty,f=e.assertThisInitialized,I=e.initializerDefineProperty},function(e){v=e.gameManager,C=e.SCENE_TYPE,y=e.GAME_TYPE}],execute:function(){var T,D,H,E,B,S,P,L,w,z,U,k,A,_,M,N,x;t._RF.push({},"e3daezlwnVDVqaiMPNHKz7p","healthcare",void 0);var R=i.ccclass,F=i.property;e("Healthcare",(T=R("Healthcare"),D=F(n),H=F(n),E=F(n),B=F(a),S=F(a),P=F(a),L=F(o),T((U=d((z=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,b(f(t),"pauseMenu",null),b(f(t),"HUDLayer",null),b(f(t),"sideBarHeight",0),b(f(t),"item",[]),b(f(t),"canDragItem",!1),b(f(t),"dragableItem",null),b(f(t),"gameItems",[]),I(f(t),"itemContainer",U,f(t)),I(f(t),"bg",k,f(t)),I(f(t),"sideBar",A,f(t)),I(f(t),"HUDLayerPrefab",_,f(t)),I(f(t),"itemPrefab",M,f(t)),I(f(t),"dragableItemPrefab",N,f(t)),I(f(t),"itemFrames",x,f(t)),t}p(t,e);var i=t.prototype;return i.start=function(){v.getInstance().setSceneType(C.GAME),v.getInstance().setGameType(y.HEALTHCARE),this.gameItems=v.getInstance().getGameItems(y.HEALTHCARE),this.HUDLayer=r(this.HUDLayerPrefab),this.node.addChild(this.HUDLayer),this.HUDLayer.getComponent("HUDLayer").setDelegate(this),this.dragableItem=r(this.dragableItemPrefab),this.bg.node.addChild(this.dragableItem),this.dragableItem.active=!1,this.dragableItem.zIndex=10001,this.createDonateableItems(),this.touchEvents()},i.createDonateableItems=function(){var e,t=this;this.sideBarHeight=null===(e=this.sideBar.getComponent(l))||void 0===e?void 0:e.contentSize.height,this.itemFrames.forEach((function(e,i,n){var a;t.item[i]=r(t.itemPrefab),t.item[i].getComponent("Item").setDelegate(t),t.item[i].getComponent("Item").upateItemData(t.gameItems[i],e);var o=t.sideBarHeight/n.length*(i+.5),c=t.sideBarHeight/n.length*.8/(null===(a=t.item[i].getComponent(l))||void 0===a?void 0:a.contentSize.height);t.item[i].setScale(new s(c,c,c)),t.item[i].position.y=o,t.sideBar.node.addChild(t.item[i])}))},i.touchEvents=function(){this.node.on(c.EventType.TOUCH_START,this.itemTouchStartCallback,this),this.node.on(c.EventType.TOUCH_MOVE,this.itemTouchMoveCallback,this),this.node.on(c.EventType.TOUCH_END,this.itemTouchEndCallback,this),this.node.on(c.EventType.TOUCH_CANCEL,this.itemTouchEndCallback,this)},i.itemTouchStartCallback=function(e){for(var t,i,a=e.getLocation(),o=null===(t=this.sideBar.getComponent(l))||void 0===t?void 0:t.convertToNodeSpaceAR(m(a.x,a.y,0)),r=null===(i=this.bg.getComponent(l))||void 0===i?void 0:i.convertToNodeSpaceAR(m(a.x,a.y,0)),s=0;s<this.item.length;s++){var c;if(null===(c=this.item[s].getComponent(l))||void 0===c?void 0:c.getBoundingBox().contains(g(o.x,o.y))){this.dragableItem.getComponent(n).spriteFrame=this.item[s].getComponent("Item").getItemImage(),console.log("Scale velue: "+this.item[s].getComponent("Item").getItemImageScale()),this.canDragItem=!0,this.dragableItem.setScale(this.item[s].getComponent("Item").getItemImageScale()),this.dragableItem.position=r,this.dragableItem.active=!0;break}this.canDragItem=!1}},i.itemTouchMoveCallback=function(e){var t=e.getLocation(),i=this.node.getChildByName("spriteBg");if(1==this.canDragItem){var n,a=null===(n=i.getComponent(l))||void 0===n?void 0:n.convertToNodeSpaceAR(m(t.x,t.y,0));this.dragableItem.position=a,console.log("New position : "+a)}},i.itemTouchEndCallback=function(e){var t,i;e.getStartLocation();h.rectRect(null===(t=this.itemContainer.getComponent(l))||void 0===t?void 0:t.getBoundingBox(),null===(i=this.dragableItem.getComponent(l))||void 0===i?void 0:i.getBoundingBox())?(console.log("containerContainsItem"),this.canDragItem=!1,this.dragableItem.active=!1):console.log("container not ContainsItem")},i.timePaused=function(){console.log("Call back from prefab")},i.onItemButtonClick=function(){console.log("Item Button click")},t}(u)).prototype,"itemContainer",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new n}}),k=d(z.prototype,"bg",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new n}}),A=d(z.prototype,"sideBar",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new n}}),_=d(z.prototype,"HUDLayerPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=d(z.prototype,"itemPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=d(z.prototype,"dragableItemPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),x=d(z.prototype,"itemFrames",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=z))||w));t._RF.pop()}}}));

System.register("chunks:///_virtual/registration.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./SoundManager.ts","./NetworkConfig.ts","./NetworkManager.ts","./userDetails.ts"],(function(e){"use strict";var t,i,r,a,n,o,s,l,d,c,u,p,g,m,h,f,y,b,w,L,N,E,v,V;return{setters:[function(e){t=e.cclegacy,i=e._decorator,r=e.EditBox,a=e.Button,n=e.Prefab,o=e.AudioClip,s=e.AudioSource,l=e.instantiate,d=e.director,c=e.Sprite,u=e.Label,p=e.tween,g=e.Component},function(e){m=e.applyDecoratedDescriptor,h=e.inheritsLoose,f=e.defineProperty,y=e.assertThisInitialized,b=e.initializerDefineProperty},function(e){w=e.SoundManager},function(e){L=e.SERVER,N=e.API_END_POINTS,E=e.REQUEST_TYPE},function(e){v=e.NetworkManager},function(e){V=e.UserDetails}],execute:function(){var C,S,P,I,k,F,z,A,B,R,T,D,U,_,x,M,j,G,O,q,H,J,Q,Y,Z;t._RF.push({},"ee7a3/Zi4lHk6vgVM5i6qTy","registration",void 0);var K=i.ccclass,W=i.property;e("Registration",(C=K("Registration"),S=W({type:r,displayName:"Fist Name Editbox"}),P=W({type:r,displayName:"Last Name Editbox"}),I=W({type:r,displayName:"User Name Editbox"}),k=W({type:r,displayName:"Email  Editbox"}),F=W({type:r,displayName:"Password  Editbox"}),z=W({type:a,displayName:"Girl Button"}),A=W({type:a,displayName:"Boy Button"}),B=W(n),R=W(n),T=W(a),D=W(o),C((x=m((_=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,f(y(t),"selectedGender",2),f(y(t),"errorLayer",null),f(y(t),"loaderLayer",null),f(y(t),"loaderAction",null),b(y(t),"fName",x,y(t)),b(y(t),"lName",M,y(t)),b(y(t),"username",j,y(t)),b(y(t),"email",G,y(t)),b(y(t),"password",O,y(t)),b(y(t),"girl",q,y(t)),b(y(t),"boy",H,y(t)),b(y(t),"errorPrefab",J,y(t)),b(y(t),"loaderPrefab",Q,y(t)),b(y(t),"signUpButton",Y,y(t)),b(y(t),"buttonClick",Z,y(t)),t}h(t,e);var i=t.prototype;return i.start=function(){w.getInstance().init(this.node.getComponent(s)),v.getInstance().init(L),this.errorLayer=l(this.errorPrefab),this.node.addChild(this.errorLayer),this.inActiveErrorLayer(),this.loaderLayer=l(this.loaderPrefab),this.node.addChild(this.loaderLayer),this.loaderLayer.active=!1,sessionStorage.getItem("jwtToken")&&(console.log("inside this jwttojkn"),d.loadScene("home"))},i.openLogin=function(){d.loadScene("login")},i.onSignUp=function(){var e=this;if(w.getInstance().playSoundEffect(this.buttonClick),this.checkIfFormIsValid()){this.startLoader(),v.getInstance().sendRequest(N.REGISTER,E.POST,{firstName:this.fName.string,lastName:this.lName.string,userName:this.username.string,gender:this.selectedGender,profilePicture:0,email:this.email.string,password:this.password.string},(function(t){e.stopLoader(),t=JSON.parse(t),console.log("inisde thie",t);var i=t.user.token;sessionStorage.setItem("jwtToken",i),console.log(" on success data",t,sessionStorage.getItem("jwtToken")),V.getInstance().setUserDetails(t.user),d.loadScene("about")}),(function(t){e.stopLoader(),e.activeErrorLayer(JSON.parse(t).msg),console.log("on faiure data",t)}))}},i.onEditingDidEnded=function(e){this.inActiveErrorLayer();var t=e.node.getComponent("FieldValidator").doValidation(e.string);t.isValid||this.activeErrorLayer(t.message)},i.showPassword=function(e){e.isChecked?this.password.inputFlag=5:this.password.inputFlag=0},i.onGenerSelection=function(e,t){var i=parseInt(t);this.selectedGender=i,1==i?(this.boy.node.getComponent(c).enabled=!0,this.girl.node.getComponent(c).enabled=!1):(this.boy.node.getComponent(c).enabled=!1,this.girl.node.getComponent(c).enabled=!0)},i.checkIfFormIsValid=function(){this.inActiveErrorLayer();var e=this.fName.getComponent("FieldValidator").doValidation(this.fName.string),t=this.lName.getComponent("FieldValidator").doValidation(this.lName.string),i=this.username.getComponent("FieldValidator").doValidation(this.username.string),r=this.email.getComponent("FieldValidator").doValidation(this.email.string),a=this.password.getComponent("FieldValidator").doValidation(this.password.string);switch(!1){case e.isValid:return this.activeErrorLayer(e.message),console.log("isFNameValid"),!1;case t.isValid:return this.activeErrorLayer("Please enter an appropriate last name"),console.log("isLNameValid"),!1;case i.isValid:return this.activeErrorLayer(i.message),console.log("isUsernameValid"),!1;case r.isValid:return this.activeErrorLayer(r.message),console.log("isEmailValid"),!1;case a.isValid:return this.activeErrorLayer(a.message),console.log("isPasswordValid"),!1}return!0},i.activeErrorLayer=function(e){this.errorLayer.getChildByName("ErrorMsg").getComponent(u).string=e,this.errorLayer.active=!0},i.inActiveErrorLayer=function(){this.errorLayer.active=!1},i.startLoader=function(){this.loaderAction=p(this.loaderLayer.getChildByName("LoaderIcon")).by(.1,{angle:-40}).repeatForever().start(),this.loaderLayer.active=!0},i.stopLoader=function(){this.loaderLayer.active=!1,this.loaderAction.stop()},t}(g)).prototype,"fName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),M=m(_.prototype,"lName",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),j=m(_.prototype,"username",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),G=m(_.prototype,"email",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),O=m(_.prototype,"password",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),q=m(_.prototype,"girl",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),H=m(_.prototype,"boy",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),J=m(_.prototype,"errorPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=m(_.prototype,"loaderPrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=m(_.prototype,"signUpButton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=m(_.prototype,"buttonClick",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=_))||U));t._RF.pop()}}}));

System.register("chunks:///_virtual/HUDLayer.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts"],(function(t){"use strict";var e,i,s,n,r,a,o,c,h,u,m;return{setters:[function(t){e=t.cclegacy,i=t._decorator,s=t.Label,n=t.Component},function(t){r=t.applyDecoratedDescriptor,a=t.inheritsLoose,o=t.defineProperty,c=t.assertThisInitialized,h=t.initializerDefineProperty},function(t){u=t.gameManager,m=t.IN_GAME_CURR_OP}],execute:function(){var p,l,d,f,g,T,C;t("TIMER_STATE",void 0),e._RF.push({},"f631d8FIyhAJpHKkTCPjS6M","HUDLayer",void 0);var I,S=i.ccclass,E=i.property;!function(t){t[t.PAUSED=0]="PAUSED",t[t.RUNNING=1]="RUNNING",t[t.OVER=2]="OVER"}(I||(I=t("TIMER_STATE",{})));t("HUDLayer",(p=S("HUDLayer"),l=E(s),d=E(s),p((T=r((g=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return e=t.call.apply(t,[this].concat(s))||this,o(c(e),"_delagateScript",void 0),o(c(e),"minutes",0),o(c(e),"seconds",0),o(c(e),"tempMin",0),o(c(e),"secondsLeft",0),o(c(e),"initHeartsCount",0),o(c(e),"cheapestItemPrice",0),o(c(e),"timerState",0),o(c(e),"halfTime",0),h(c(e),"timerCountDown",T,c(e)),h(c(e),"heartsCount",C,c(e)),e}a(e,t);var i=e.prototype;return i.start=function(){u.getInstance().getSceneType(),this.initTime(),this.updateTimerCountDown(),this.getCheapestItem()},i.getCheapestItem=function(){var t=u.getInstance().getGameItems(u.getInstance().getGameType()).map((function(t){return t.price}));this.cheapestItemPrice=Math.min.apply(Math,t),console.log("Prices "+t+"Cheapest "+this.cheapestItemPrice)},i.setDelegate=function(t){this._delagateScript=t},i.timer=function(){this.secondsLeft>=0?(this.updateTimerCountDown(),this.secondsLeft--):this.timeOver()},i.updateTimerCountDown=function(){this.seconds=this.secondsLeft%60,this.minutes=Math.floor(this.secondsLeft/60);var t=this.minutes<10?"0"+this.minutes:this.minutes,e=this.seconds<10?"0"+this.seconds:this.seconds;this.timerCountDown.string=t+":"+e},i.initTime=function(){var t=u.getInstance().getGameTimeHeart(u.getInstance().getGameType());this.secondsLeft=t.seconds,this.halfTime=this.secondsLeft-10,console.log("half time",this.halfTime),this.initHeartsCount=t.hearts,this.updateHearts(m.RESET,this.initHeartsCount)},i.startTimer=function(){this.initTime(),this.updateTimerCountDown(),this.timerState=I.RUNNING,this.schedule(this.timer,1),this._delagateScript.timeRunning()},i.pauseTimer=function(){this.timerState=I.PAUSED,this.unschedule(this.timer)},i.resumeTimer=function(){this.timerState=I.RUNNING,this.schedule(this.timer,1)},i.timeOver=function(){this.timerState=I.OVER,this.unschedule(this.timer),this._delagateScript.timeOver()},i.onPauseButtonPressed=function(){switch(this.timerState){case I.OVER:break;case I.PAUSED:this.resumeTimer(),this._delagateScript.timeRunning();break;case I.RUNNING:this.pauseTimer(),this._delagateScript.timePaused();break;default:this.timeOver()}},i.getHeartsConsumed=function(){return this.initHeartsCount-parseInt(this.heartsCount.string)},i.updateHearts=function(t,e){void 0===e&&(e=0);var i=parseInt(this.heartsCount.string),s="";switch(t){case m.INCRESE:i+=e;break;case m.DECREASE:i<e?s="Not enought hearts to buy particular Item.":i-=e;break;case m.RESET:i=this.initHeartsCount}return i>=0&&(this.heartsCount.string=String(i)),{gameover:0==i||this.cheapestItemPrice>i,error:s}},e}(n)).prototype,"timerCountDown",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),C=r(g.prototype,"heartsCount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),f=g))||f));e._RF.pop()}}}));

System.register("chunks:///_virtual/voiceOver.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,n,i,r,o,c,a,u,p;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Label,r=e.Sprite,o=e.Component},function(e){c=e.applyDecoratedDescriptor,a=e.inheritsLoose,u=e.initializerDefineProperty,p=e.assertThisInitialized}],execute:function(){var s,l,f,v,g,b,w,y,d;t._RF.push({},"fd6d9ODMEBNO4mU3oxjiZRI","voiceOver",void 0);var h=n.ccclass,m=n.property;e("VoiceOver",(s=h("VoiceOver"),l=m(i),f=m(i),v=m(r),s((w=c((b=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,u(p(t),"message",w,p(t)),u(p(t),"countDown",y,p(t)),u(p(t),"popUp",d,p(t)),t}a(t,e);var n=t.prototype;return n.start=function(){},n.updateMessage=function(e){this.message.string=e},n.updateCountDown=function(e){this.countDown.string=e},n.InactiveActivePopUp=function(e){this.popUp.node.active=e},t}(o)).prototype,"message",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new i}}),y=c(b.prototype,"countDown",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new i}}),d=c(b.prototype,"popUp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),g=b))||g));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./gameManager.ts","./strings.ts","./Validations.ts","./popup.ts","./GeneralFacts.ts","./pauseMenu.ts","./ResourceUtils.ts","./SoundManager.ts","./relief.ts","./livelihood.ts","./NetworkConfig.ts","./NetworkManager.ts","./userDetails.ts","./login.ts","./FieldValidator.ts","./home.ts","./item.ts","./accomplishment.ts","./playerProfile.ts","./factsPopUp.ts","./forgotPassword.ts","./education.ts","./gameSummary.ts","./about.ts","./healthcare.ts","./registration.ts","./HUDLayer.ts","./voiceOver.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});